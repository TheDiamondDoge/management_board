(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1001:function(e,t,a){"use strict";a.r(t);var n=a(99),r=a(70),l=a(36),o=a(37),c=a(40),i=a(38),s=a(39),u=a(0),m=a.n(u),d=a(315),p=a(88),b=a(45),h=a(645),_=a(144),f=a(776),E=a.n(f),g=a(145),y=a(118),j=a(9),v=a.n(j),O=a(777),k=a.n(O),C=a(75),N=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dateStr,a=Object(_.a)(e,["dateStr"]),n=Object(y.d)(t),r=Object(y.f)(t),l=v()(k.a.margin_right,Object(g.a)({},k.a.red,r));return m.a.createElement("div",a,m.a.createElement("span",{className:l},n),r&&m.a.createElement("span",{title:"Last time updated more than 1 month ago"},m.a.createElement(d.k,{icon:"warning-sign",intent:C.a.DANGER})))}}]),t}(m.a.PureComponent),R=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=Object(_.a)(e,["date"]);return m.a.createElement("div",a,"Updated On:",m.a.createElement(N,{className:E.a.updated,dateStr:t}))}}]),t}(m.a.PureComponent),w=a(778),D=a.n(w),S=a(65),I=a(207),M=a(779),x=a.n(M),T=a(208),P=a(642),A=a(197),F=(a(316),a(205)),B=a(203),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).filterMilestones=function(e){return e.filter(function(e){return e.shown&&e.actualDate}).sort(A.b)},a.setOrIfNeeded=function(e){return-1===e.findIndex(function(e){return"OR"===e.label})?[{label:"OR",completion:0,actualDate:null,baselineDate:null}].concat(Object(S.a)(e)):Object(S.a)(e)},a.createCell=function(e,t,n){n=n||.5;var r=v()(x.a.indicator),l="calc(".concat(100*n,"% - 13px)");return m.a.createElement("td",{key:e,className:x.a.line},e===t&&m.a.createElement("div",{className:r,style:{marginLeft:l}},m.a.createElement(T.a,{status:a.props.status})))},a.createContentCell=function(e,t){return m.a.createElement("td",{key:t+"_content"},a.getDivContainer(e))},a.createTimelineRow=function(e){var t=Object(I.a)(a),n=a.getCurrentDatePosition(e);return m.a.createElement(m.a.Fragment,null,n.first===e.length?function(e){return m.a.createElement("tr",null,m.a.createElement("td",{className:x.a.line},"\xa0"),e.map(function(e,a){return t.createCell(a,n.first-1,.9)}))}(e):n.first===n.last?function(e){return m.a.createElement("tr",null,m.a.createElement("td",{className:x.a.line},"\xa0"),e.map(function(e,a){return t.createCell(a,n.first)}))}(e):-1===n.first?function(e){return m.a.createElement("tr",null,m.a.createElement("td",{className:x.a.line},"\xa0"),e.map(function(e,a){return t.createCell(a,0,.1)}))}(e):function(e){var a,r=t.calcPositionBetween(n,e);r<.5?(a=n.first,r+=.5):(a=n.last,r-=.5);return m.a.createElement("tr",null,m.a.createElement("td",{className:x.a.line},"\xa0"),e.map(function(e,n){return t.createCell(n,a,r)}))}(e))},a.createDecorativeRow=function(e){return m.a.createElement("tr",null,m.a.createElement("td",null),e.map(function(e,t){return m.a.createElement("td",{key:t+"_decorative",className:x.a.align_center},"|")}))},a.createMileStatusRow=function(e){var t=v()(x.a.align_center,x.a.min_width);return m.a.createElement("tr",null,m.a.createElement("td",null),e.map(function(e,n){return m.a.createElement("td",{key:n+"_status",className:t},a.getMilestoneStatusIcon(e))}))},a.getMilestoneStatusIcon=function(e){var t=new Date(e.actualDate);return 100===e.completion?m.a.createElement(d.k,{icon:"tick",intent:C.a.SUCCESS}):t<a.currentDate?m.a.createElement(d.k,{icon:"cross",intent:C.a.DANGER}):""},a.calcPositionBetween=function(e,t){var n=new Date(t[e.first].actualDate),r=new Date(t[e.last].actualDate);return(a.currentDate-n.getTime())/(r.getTime()-n.getTime())},a.getDivContainer=function(e){return m.a.createElement("div",{className:x.a.align_center},e)},a.getCurrentDatePosition=function(e){for(var t=0;t<e.length;t++){var n=new Date(e[t].actualDate);if(n.setHours(0,0,0,0),!(a.currentDate>n)){if(a.currentDate===n.getTime())return{first:t,last:t};if(a.currentDate<n)return{first:t-1,last:t}}}return{first:t,last:t}},a.currentDate=a.getCurrentDate(),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.filterMilestones(this.props.milestones);t=this.setOrIfNeeded(t);var a=v()(this.props.className,x.a.container);return m.a.createElement("div",{className:a},m.a.createElement("table",{id:"timeline",className:x.a.timeline_table},m.a.createElement("tbody",null,this.createMileStatusRow(t),m.a.createElement("tr",null,m.a.createElement("td",null,"\xa0"),t.map(function(t,a){var n=t.meetingMinutes,r=Object(B.h)(n)?m.a.createElement(F.a,{url:n,label:t.label}):t.label;return e.createContentCell(r,a)})),this.createDecorativeRow(t),this.createTimelineRow(t),this.createDecorativeRow(t),m.a.createElement("tr",null,m.a.createElement("td",null,"\xa0")),m.a.createElement("tr",null,m.a.createElement("td",{className:x.a.legend},m.a.createElement(P.a,{name:"Committed (Baseline)"})),t.map(function(t,a){var n=new Date(t.baselineDate),r=Object(y.c)(n);return e.createContentCell(r,a)})),m.a.createElement("tr",null,m.a.createElement("td",null,"\xa0")),m.a.createElement("tr",null,m.a.createElement("td",{className:x.a.legend},m.a.createElement(P.a,{name:"Actual / Forecast"})),t.map(function(t,a){var n=new Date(t.actualDate),r=Object(y.c)(n);return e.createContentCell(r,a)})))))}},{key:"getCurrentDate",value:function(){return(new Date).setHours(0,0,0,0)}}]),t}(m.a.Component);q.defaultProps={className:"",status:"blank"};var L=a(781),U=a.n(L),H=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.indicators,a=e.className,n=t.schedule,r=t.scope,l=t.quality,o=t.cost,c=Object(y.e)(n),i=Object(y.e)(r),s=Object(y.e)(l),u=Object(y.e)(o);return m.a.createElement("div",{className:a},m.a.createElement(d.j,{striped:!0,bordered:!0,condensed:!0},m.a.createElement("colgroup",null,m.a.createElement("col",{className:U.a.col_width}),m.a.createElement("col",{className:U.a.col_width}),m.a.createElement("col",{className:U.a.col_width}),m.a.createElement("col",{className:U.a.col_width})),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:U.a.td_style},"Schedule"),m.a.createElement("th",{className:U.a.td_style},"Scope"),m.a.createElement("th",{className:U.a.td_style},"Quality"),m.a.createElement("th",{className:U.a.td_style},"Cost"))),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{className:U.a.td_style},m.a.createElement(T.a,{status:c,className:U.a.status_icon})),m.a.createElement("td",{className:U.a.td_style},m.a.createElement(T.a,{status:i,className:U.a.status_icon})),m.a.createElement("td",{className:U.a.td_style},m.a.createElement(T.a,{status:s,className:U.a.status_icon})),m.a.createElement("td",{className:U.a.td_style},m.a.createElement(T.a,{status:u,className:U.a.status_icon}))))))}}]),t}(m.a.PureComponent);H.defaultProps={indicators:{cost:0,quality:0,schedule:0,scope:0}};var V=a(782),X=a.n(V),W=a(206),Y=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=Object(_.a)(e,["data"]);return m.a.createElement("ul",a,t.map(function(e,t){var a=e.riskDescription,n=e.impactDescription,r=e.mitigation;return m.a.createElement("li",{key:t,className:X.a.li_margin},m.a.createElement("div",null,m.a.createElement("b",null,"Risk:")," ",a),m.a.createElement("div",null,m.a.createElement("b",null,"Description:")," ",m.a.createElement(W.a,{value:n})),m.a.createElement("div",null,m.a.createElement("b",null,"Mitigation:")," ",m.a.createElement(W.a,{value:r})))}))}}]),t}(m.a.PureComponent),z=a(783),G=a.n(z),K=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.first,a=e.second,n=e.className,r=Object(_.a)(e,["first","second","className"]),l=v()(G.a.naming_block,n);return m.a.createElement("div",Object.assign({className:l},r),m.a.createElement("span",{className:G.a.name},t),m.a.createElement("span",null,a))}}]),t}(m.a.PureComponent);K.defaultProps={first:"",second:"",className:""};var Q=a(204),J=a(784),Z=a.n(J),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={baseUrl:"https://jira.com/browse/"},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.data;return m.a.createElement("div",{className:a},m.a.createElement("ul",{className:Z.a.list},n.map(function(t){var a=t.reqId,n=e.state.baseUrl+"".concat(a),r=t.headline,l=t.status;return m.a.createElement("li",{key:a,className:Z.a.list_item},m.a.createElement("div",null,m.a.createElement(F.a,{label:a,url:n,className:Z.a.url})),m.a.createElement("div",null,r),m.a.createElement("div",null,m.a.createElement("u",null,"Status"),": ",l))})))}}]),t}(m.a.PureComponent);$.defaultProps={data:[],className:""};var ee=a(7),te=a(785),ae=a.n(te),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).renderElements=function(){var e=a.props,t=e.className,n=e.smallSize,r=e.loading,l=e.editMode,o=e.onSubmit,c=e.onCancel,i=e.onClick,s=e.sticky,u=a.getButtonProps(n),p=v()(t,Object(g.a)({},ae.a.sticky_controls,s));return l?m.a.createElement("div",{className:p},m.a.createElement(d.b,Object.assign({text:"Save",minimal:!0,icon:"saved",onClick:o,intent:C.a.SUCCESS},u)),m.a.createElement(d.b,Object.assign({text:"Cancel",minimal:!0,icon:"undo",onClick:c,intent:C.a.DANGER},u))):(n||(u.text="Edit"),m.a.createElement("div",{className:p},m.a.createElement(d.b,Object.assign({minimal:!0,icon:"edit",onClick:i,intent:C.a.PRIMARY,loading:r},u))))},a.getButtonProps=function(e){return e?{text:null}:{large:!0}},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.renderElements()}}]),t}(m.a.PureComponent);ne.defaultProps={onClick:function(){},onSubmit:function(){},onCancel:function(){},editMode:!1,smallSize:!1,className:"",loading:!1,sticky:!1};var re=a(650),le=a(883),oe=a.n(le),ce=a(643),ie=a(641),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).submitForm=null,a.toggleEditMode=function(){a.setState(function(e){return{editMode:!e.editMode}})},a.state={editMode:!1,default:{value:"<p>Empty</p>",modules:{toolbar:Object(B.e)()}}},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.onCancel,r=t.onSubmit,l=t.blocked,o=[ie.h.SUMMARY,ie.h.RED_FLAG,ie.h.ORANGE_FLAG,ie.h.GREEN_FLAG,ie.h.DETAILS];return m.a.createElement(m.a.Fragment,null,l||m.a.createElement(ne,{sticky:!0,className:oe.a.controls,onClick:this.toggleEditMode,editMode:this.state.editMode,onCancel:function(){n(),e.toggleEditMode()},onSubmit:this.submitForm}),m.a.createElement(ce.f,{enableReinitialize:!0,onSubmit:function(e,t){t.setSubmitting(!1),r(e)},initialValues:a,render:function(t){e.submitForm=t.submitForm;var a=e.getModules(e.state.editMode),n=!e.state.editMode,r=e.getHeaders();return m.a.createElement(m.a.Fragment,null,r.map(function(e,t){var l=o[t];return m.a.createElement(m.a.Fragment,{key:l},m.a.createElement("div",null,r[t]),m.a.createElement(re.c,{type:"quill",name:l,readOnly:n,modules:a,className:oe.a.quill_margin}))}))}}))}},{key:"getHeaders",value:function(){return[m.a.createElement("h3",null,"Executive Status Summary"),m.a.createElement("h3",{className:oe.a.red},"Red Flag (executive action needed)"),m.a.createElement("h3",{className:oe.a.orange},"Orange Flag (core team action needed)"),m.a.createElement("h3",{className:oe.a.green},"Green Flag"),m.a.createElement("h3",null,"Current Project Details")]}},{key:"getModules",value:function(e){if(e)return this.state.default.modules;var t=Object(ee.a)({},this.state.default.modules);return t.toolbar=null,t}}]),t}(m.a.Component);se.defaultProps={blocked:!1};var ue=a(43),me=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.buttonLoading;return m.a.createElement(d.t,{content:this.pptMenu(),position:ue.a.BOTTOM},m.a.createElement(d.b,{large:!0,minimal:!0,loading:e,icon:"download",intent:C.a.PRIMARY,text:"PPT Upload"}))}},{key:"pptMenu",value:function(){var e=this.props,t=e.snapshots,a=e.snapshotLoading,n=e.projectId,r=e.onClickElement;return m.a.createElement(d.m,null,m.a.createElement(d.n,{disabled:!0,text:"PowerPoint, program template"}),m.a.createElement(d.n,{text:"PowerPoint, multi-page & customizable",onClick:function(){return r(n,"custom")}}),m.a.createElement(d.n,{text:"PowerPoint, multi-page & indicators",onClick:function(){return r(n,"indicators")}}),m.a.createElement(d.n,{text:"PowerPoint Exec review",onClick:function(){return r(n,"review")}}),m.a.createElement(d.h,null),a?m.a.createElement(Q.a,null):t.map(function(e){var t=Object(y.d)(e.timestamp),a="Snapshot at ".concat(t);return m.a.createElement(d.n,{key:e.reportId,text:a,icon:"archive",onClick:function(){return r(n,"custom",e.reportId)}})}))}}]),t}(m.a.Component);me.defaultProps={buttonLoading:!1};var de={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}}},pe=function(){function e(t,a){var n=this;Object(l.a)(this,e),this._allowedIf="allowedIf",this._notAllowedIf="notAllowedIf",this.getLabelById=function(e){if(n.isAttrExists(e))return n._fieldsToRender[e].label},this._fieldsToRender=t,this._validationParams=a}return Object(o.a)(e,[{key:"displayOrNot",value:function(e){return!!this._fieldsToRender[e]&&(this._fieldsToRender[e].hasOwnProperty(this._allowedIf)?this._shouldRender(this._allowedIf,e):!this._fieldsToRender[e].hasOwnProperty(this._notAllowedIf)||this._shouldRender(this._notAllowedIf,e))}},{key:"isEditable",value:function(e){return void 0===this._fieldsToRender[e].editable||this._fieldsToRender[e].editable}},{key:"isAttrExists",value:function(e){return e in this._fieldsToRender}},{key:"getHelpObject",value:function(e){return this._fieldsToRender[e].help}},{key:"getFieldProps",value:function(e,t){var a=this._fieldsToRender[e].type?this._fieldsToRender[e].type:"text";return["composite","maintenance"].includes(e)?{type:a,value:t}:{type:a}}},{key:"_shouldRender",value:function(e,t){if(this._fieldsToRender[t].hasOwnProperty(e)){for(var a=this._fieldsToRender[t][e],n=Object.keys(a),r=0;r<n.length;r++){var l=n[r];if(void 0!==this._validationParams[l])for(var o=0;o<a[l].length;o++){if("allowedIf"===e&&a[l][o]===this._validationParams[l])return!0;if("notAllowedIf"===e&&a[l][o]!==this._validationParams[l])return!0}}return!1}}}]),e}(),be=a(884),he=a.n(be),_e=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.src,n=t.className,r=v()(n,he.a.container);return m.a.createElement("div",{className:r},m.a.createElement("div",{className:he.a.controls},m.a.createElement(re.b,{type:"delete",onClick:function(){return e.props.onDelete()}})),m.a.createElement("div",{className:he.a.image_container},m.a.createElement("img",{className:he.a.image,src:a,alt:"Not loaded"})))}}]),t}(m.a.Component);_e.defaultProps={onDelete:function(){}};var fe=a(885),Ee=a.n(fe),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).getFileInputProps=function(){return a.props.amount>1?{multiple:!0}:{}},a.onFilePick=function(e){var t=a.props.amount,n=e.currentTarget.files,r=a.props.maxFileSize;if(n.length>t){var l="Total amount of images should not exceed ".concat(t);a.props.onError(l)}else if(a.checkFilesSize(n,r))a.setState({files:n},function(){return a.submitRef.current.click()});else{var o="File size should be less than ".concat(r/8/1024/1024," Mb");a.props.onError(o)}},a.checkFilesSize=function(e,t){for(var a=0;a<e.length;a++)if(e[a].size>t)return!1;return!0},a.handleFormSubmit=function(e){e.preventDefault(),e.stopPropagation();for(var t=new FormData,n=a.state.files,r=0;r<n.length;r++)t.append("files",n[r]);a.props.onSubmit(t)},a.state={files:null},a.submitRef=m.a.createRef(),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.uploadRef,t=this.getFileInputProps();return m.a.createElement("div",null,m.a.createElement("form",{onSubmit:this.handleFormSubmit},m.a.createElement("input",Object.assign({ref:e,type:"file",onChange:this.onFilePick,className:Ee.a.hidden},t)),m.a.createElement("input",{ref:this.submitRef,type:"submit",className:Ee.a.hidden})))}}]),t}(m.a.PureComponent);ge.defaultProps={onAmountExceed:function(){},amount:1,maxFileSize:8388608};var ye=a(886),je=a.n(ye),ve=a(3),Oe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.title,n=e.icon,r=e.body,l=e.onClose,o=e.onConfirm,c=e.onCancel,i=e.confirmLabel,s=e.cancelLabel;return m.a.createElement(d.g,{isOpen:t,onClose:l,title:a,icon:n},m.a.createElement("div",{className:ve.a.DIALOG_BODY},r),m.a.createElement("div",{className:ve.a.DIALOG_FOOTER},m.a.createElement("div",{className:ve.a.DIALOG_FOOTER_ACTIONS},m.a.createElement(d.b,{onClick:o},i),m.a.createElement(d.b,{intent:C.a.DANGER,onClick:c},s))))}}]),t}(m.a.Component);Oe.defaultProps={isOpen:!1,title:"",onClose:function(){},onConfirm:function(){},onCancel:function(){},confirmLabel:"Confirm",cancelLabel:"Cancel"};var ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleDeletion=function(){a.props.onDelete(a.state.deletedFilename),a.toggleConfirmDialog("")},a.toggleConfirmDialog=function(e){a.setState(function(t){return{isConfirmPopupOpen:!t.isConfirmPopupOpen,deletedFilename:e}})},a.openFileDialog=function(){a.uploadRef.current.click()},a.state={isConfirmPopupOpen:!1,deletedFilename:""},a.uploadRef=m.a.createRef(),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.buttonName,n=t.amount,r=t.files,l=t.onUpload,o=t.isUploading,c="".concat(a," (max amount: ").concat(n,")"),i=v()(Object(g.a)({},je.a.section,0!==r.length));return m.a.createElement("div",null,m.a.createElement(d.b,{minimal:!0,loading:o,className:i,text:c,icon:m.a.createElement(d.k,{icon:"upload",intent:C.a.PRIMARY}),onClick:this.openFileDialog}),r.map(function(t){return m.a.createElement(m.a.Fragment,{key:t.filename},m.a.createElement(d.h,null),m.a.createElement(_e,{className:je.a.section,src:t.base64Image,onDelete:function(){return e.toggleConfirmDialog(t.filename)}}))}),m.a.createElement(ge,{onSubmit:l,uploadRef:this.uploadRef,amount:n,onError:this.props.onError,maxFileSize:8388608}),m.a.createElement(Oe,{isOpen:this.state.isConfirmPopupOpen,onClose:this.toggleConfirmDialog,onConfirm:this.handleDeletion,onCancel:this.toggleConfirmDialog,title:"Deletion confirmation",icon:m.a.createElement(d.k,{icon:"warning-sign",intent:C.a.DANGER}),body:"It is a permanent operation. You will not be able to restore deleted image.",confirmLabel:"Delete"}))}}]),t}(m.a.Component);ke.defaultProps={isUploading:!1,buttonName:"Upload image",amount:1,files:[],onUpload:function(){},onDelete:function(){},onAmountExceed:function(){}};var Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleOnAmountExceed=function(e){a.props.pushWarningToast(e)},a.handleSaveData=function(e){a.props.saveData(a.projectId,e)},a.handleUserReportReload=function(){a.props.reloadUserReports(a.projectId)},a.amount=5,a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.report.tab.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));this.projectId=this.props.defaults.payload.projectId;var t=this.props.defaults.payload,a=new pe(de,t),n=this.props.report.tab.payload,r=n.updatedOn,l=n.projectName,o=n.projectManager,c=this.props.risks,i=c.payload,s=c.loading,u=this.props.milestones,p=u.payload,b=u.loading,_=this.props.indicators,f=_.payload,E=_.loading,g=this.getRiskObj(i),j=this.props.rqs,v=j.loading,O=j.payload,k=this.props.userReports,C=k.loading,N=k.payload,w=this.props.report.images.payload,S=this.props.report.images.loading,I=this.props.report.snapshots.payload,M=this.props.report.snapshots.loading,x=this.props.isExportInProcess;return m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,null,m.a.createElement("div",{className:D.a.project_info},m.a.createElement(R,{date:r}),m.a.createElement(K,{first:"Project Name:",second:m.a.createElement("b",null,l)}),m.a.createElement(K,{first:"Project manager:",second:m.a.createElement("b",null,o)})),m.a.createElement("div",{className:D.a.export_button},m.a.createElement(me,{projectId:this.projectId,onClickElement:this.props.downloadPptReport,snapshots:I,snapshotLoading:M,buttonLoading:x})),E?m.a.createElement(Q.a,null):m.a.createElement(H,{indicators:f.statuses.current,className:D.a.health_minimal}),b||E?m.a.createElement(Q.a,null):m.a.createElement(q,{milestones:p,status:Object(y.e)(f.statuses.current.overall)})),m.a.createElement(h.a,null,C?m.a.createElement(Q.a,null):m.a.createElement(se,{data:N,onCancel:this.handleUserReportReload,onSubmit:this.handleSaveData,blocked:!a.displayOrNot("controls")})),m.a.createElement(h.a,null,m.a.createElement("h3",null,"Scope Definition"),v?m.a.createElement(Q.a,null):m.a.createElement($,{data:O,className:D.a.scope_definition})),m.a.createElement(h.a,null,m.a.createElement("h3",null,"Risks"),m.a.createElement(d.h,null),s?m.a.createElement(Q.a,null):m.a.createElement("div",null,m.a.createElement("div",{className:D.a.risk_block},m.a.createElement("h4",{className:D.a.red},"High"),m.a.createElement(Y,{data:g.high})),m.a.createElement("div",{className:D.a.risk_block},m.a.createElement(d.h,null),m.a.createElement("h4",{className:D.a.orange},"Moderate"),m.a.createElement(Y,{data:g.mod})),m.a.createElement("div",{className:D.a.risk_block},m.a.createElement(d.h,null),m.a.createElement("h4",{className:D.a.green},"Low"),m.a.createElement(Y,{data:g.low})))),m.a.createElement(h.a,null,m.a.createElement(ke,{buttonName:"Upload image",isUploading:S,amount:this.amount,files:w,onUpload:function(t){return e.props.uploadImages(t,e.projectId)},onDelete:function(t){return e.props.deleteImage(t,e.projectId)},onError:this.handleOnAmountExceed})))}},{key:"onUserReportSaveFactory",value:function(e,t){return function(a){t({type:e,data:a})}}},{key:"getRiskObj",value:function(e){var t={};return t.low=e.filter(function(e){return e.rating>0&&e.rating<6}),t.mod=e.filter(function(e){return e.rating>=6&&e.rating<=10}),t.high=e.filter(function(e){return e.rating>10}),t}}]),t}(m.a.Component),Ne=a(81),Re=a(69),we=a(644),De=a(96),Se=a(66),Ie=a(54),Me=a(84),xe=a(12),Te=a(89);var Pe=Object(we.b)(Object(we.c)(Ce),{onMount:"loadData",onUnmount:"resetData"}),Ae=Object(n.b)(function(e){return{defaults:e.pws.defaults,report:e.pws.reportTab,rqs:e.pws.requirementsTab,userReports:e.pws.userReports,milestones:e.pws.milestones,indicators:e.pws.healthIndicators,risks:e.pws.risks.summary,pptLoading:e.pws.pptReport.loading,isExportInProcess:e.pws.pptReport.loading}},function(e){return{loadData:function(t){return e(Object(p.f)(t))},resetData:function(){e(Object(p.h)()),e(Object(b.k)()),e(Object(Te.g)()),e(Object(Ne.h)()),e(Object(Re.i)()),e(Object(Se.i)()),e(Object(Ie.l)()),e(Object(Me.g)())},saveData:function(t,a){return e(Object(Re.j)(t,a))},reloadUserReports:function(t){return e(Object(Re.g)(t))},downloadPptReport:function(t,a,n){return e(Object(De.e)(t,a,n))},uploadImages:function(t,a){return e(Object(b.l)(a,t))},deleteImage:function(t,a){return e(Object(b.h)(a,t))},pushWarningToast:function(t){return e(Object(xe.g)(t))}}})(Pe),Fe=a(887),Be=a.n(Fe),qe=a(888),Le=a.n(qe),Ue=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.className,n=e.useName,r=Object(_.a)(e,["value","className","useName"]),l=v()(Le.a.word_wrap,a);t=Object(y.h)(t);var o=Object(B.h)(t)?m.a.createElement(F.a,{url:t,label:n}):t;return m.a.createElement("div",Object.assign({className:l},r),o)}}]),t}(m.a.PureComponent);Ue.defaultProps={value:"",useName:"Click here",className:""};var He=a(889),Ve=a.n(He),Xe={productName:{label:"Product Name"},projectDescription:{label:"Project Description"},projectManager:{label:"Project Manager"},businessLineManager:{label:"Business Line Manager"},productLineManager:{label:"Product Line Manager"},projectState:{label:"Project State"},projectRigor:{label:"Project Rigor"},charter:{label:"Charter"},orBusinessPlan:{label:"OR Business Plan"},updatedBusinessPlan:{label:"Updated Business Plan"},drChecklist:{label:"Tailoring"},lessonsLearned:{label:"Lessons learned"},sponsor:{label:"Sponsor"},businessDivision:{label:"Business Division"},businessUnit:{label:"Business Unit"},productLine:{label:"Product Line"},workspaceState:{label:"PWS State"},projectType:{label:"Project Type"},oemPartner:{label:"OEM Partner",allowedIf:{projectType:[ie.g.OEM_PRODUCT]}},disabledTime:{label:"Disabled Time",allowedIf:{workspaceState:[ie.j.DISABLED]}},executiveSummary:{label:"Executive Status Summary"},redFlag:{label:"Red Flag"},orangeFlag:{label:"Orange Flag"},greenFlag:{label:"Green Flag"},details:{label:"Current Project Details"},collabSite:{label:"Project Collaboration Site"},epmPwaSite:{label:"EPM project PWA Site:",allowedIf:{isEpm:[!0]}},documentationRepo:{label:"Project Documentation Repository"},defectsReportSite:{label:"Defects Report Site",notAllowedIf:{projectType:[ie.g.OFFER]}},activeRisks:{label:"Active Risks"},activeActions:{label:"Active Actions"},epmLastSavedDate:{label:"EPM Last Saved",allowedIf:{isEpm:[!0]}},pwsLastUpdatedDate:{label:"PWS Last Updated"},pwsLastUpdatedBy:{label:"PWS Last Updated By"}},We=a(890),Ye=a.n(We),ze=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return m.a.createElement(d.k,Object.assign({icon:"help",intent:C.a.PRIMARY},this.props))}}]),t}(m.a.PureComponent),Ge={title:"Status",content:'Your project faces some issues impacting Dates, Cost, Content or Quality:</br>is it worth a "Y", worth a "R" ? </br></br>Some hints, as there is no defined policy; </br></br>If the variance is small you may remain "G"; examples:</br><ul><li>an intermediate milestone (not DR4 nor DR5) shifts less than 5% </li><li>costs increase less than 5%</li><li>nice-to-have feature is de-scoped</li></ul></br>else consider following criteria : </br><ul>    <li>is an external customer impacted ? </li>    <li>is another project impacted ?</li>    <li>is business impacted ? </li></ul>if answer is \'no\' to all of them, then "Y" is the right value, else "R" applies; </br></br>Quality : consider test coverage as well as ecma backlog; if test coverage (passed OK) < 100% then "Y" or "R", whatever the backlog;</br></br>If ecma backlog higher than target, then "Y" or "R" (difference > 10%)'},Ke=a(891),Qe=a.n(Ke),Je=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.content;return m.a.createElement("div",{className:Qe.a.tooltip_style},m.a.createElement("h4",null,t),m.a.createElement("p",{dangerouslySetInnerHTML:{__html:a}}))}}]),t}(m.a.PureComponent);Je.defaultProps={title:"",content:""};var Ze=a(655),$e=Ze.object().shape({comments:Ze.object().shape({cost:Ze.string().max(256,ie.i.string.MAX).nullable(),overall:Ze.string().max(256,ie.i.string.MAX).nullable(),quality:Ze.string().max(256,ie.i.string.MAX).nullable(),schedule:Ze.string().max(256,ie.i.string.MAX).nullable(),scope:Ze.string().max(256,ie.i.string.MAX).nullable()})}),et=a(665),tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).submitForm=null,a.bindFormSubmission=function(e){a.submitForm=e},a.onClickEditStatus=function(){a.setState(function(e){return{editStatusMode:!e.editStatusMode}})},a.onClickEditComment=function(){a.setState(function(e){return{editCommentMode:!e.editCommentMode}})},a.getHealthIndicatorsTable=function(e,t){var n=e.prevStatusSet,r=e.currentStatusSet,l=a.props,o=l.onCancel,c=l.fieldsToRender,i=l.blocked,s=!t&&!i&&!a.state.editCommentMode,u=!a.state.editStatusMode&&!i,p=Object(y.c)(new Date(n)),b=Object(y.c)(new Date(r));return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.j,{striped:!0,className:Ye.a.health_table},m.a.createElement("colgroup",null,m.a.createElement("col",{className:Ye.a.status_col}),m.a.createElement("col",{className:Ye.a.prev_column}),m.a.createElement("col",{className:Ye.a.cur_column}),t||m.a.createElement("col",null)),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,m.a.createElement(P.a,{name:"Status"}),m.a.createElement(d.B,{content:m.a.createElement(Je,{title:Ge.title,content:Ge.content}),position:ue.a.RIGHT},m.a.createElement(ze,{className:Ye.a.help_icon})),s&&m.a.createElement(ne,{smallSize:!0,className:Ye.a.inline_block,editMode:a.state.editStatusMode,onClick:a.onClickEditStatus,onSubmit:a.submitForm,onCancel:o})),m.a.createElement("th",{className:Ye.a.column_align_center},m.a.createElement(P.a,{name:"Previous"}),m.a.createElement("br",null),m.a.createElement(P.a,{name:p})),m.a.createElement("th",{className:Ye.a.column_align_center},m.a.createElement(P.a,{name:"Current "}),m.a.createElement("br",null),m.a.createElement(P.a,{name:b})),t||m.a.createElement("th",{className:Ye.a.column_align_center},m.a.createElement(P.a,{name:"Comments"}),u&&m.a.createElement(ne,{smallSize:!0,className:Ye.a.inline_block,editMode:a.state.editCommentMode,onClick:a.onClickEditComment,onCancel:o,onSubmit:a.submitForm})))),m.a.createElement("tbody",null,Object.keys(c).map(function(n){var r=c[n].label,l=e.statuses.prev?e.statuses.prev[n]:"",o=e.statuses.current?e.statuses.current[n]:"",i=e.comments[n],s="statuses.prev."+n,u="statuses.current."+n,d="comments."+n;return m.a.createElement("tr",{key:n},m.a.createElement("td",null,m.a.createElement(P.a,{name:r})),a.getImmutableIndicatorTd(l,s,Ye.a),a.getIndicatorTd(o,u,Ye.a),t||a.getCommentTd(i,d,Ye.a))}))),m.a.createElement(et.a,{callback:a.handleSubmitWithErrors}))},a.getCommentTd=function(e,t,n){return a.state.editCommentMode?m.a.createElement("td",null,m.a.createElement(re.c,{type:"textarea",name:t})):m.a.createElement("td",{className:n.column_align_center},m.a.createElement(W.a,{value:e}))},a.getImmutableIndicatorTd=function(e,t,n){return a.getIndicatorTd(e,t,n,!1)},a.getIndicatorTd=function(e,t,n){if((!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&a.state.editStatusMode){var r=a.selectElement(t);return m.a.createElement("td",{className:n.column_align_center},r)}var l=Object(y.e)(e);return m.a.createElement("td",{className:n.column_align_center},m.a.createElement(T.a,{className:n.inline_block,status:l}))},a.selectElement=function(e){return m.a.createElement(ce.c,{component:"select",name:e},m.a.createElement("option",{value:""},"\xa0"),m.a.createElement("option",{value:"1"},"Green"),m.a.createElement("option",{value:"2"},"Yellow"),m.a.createElement("option",{value:"3"},"Red"))},a.handleSubmitWithErrors=function(e){e.isValid||a.props.onSubmitErrorCallback(ie.d.FORM_SUBMIT_ERROR)},a.state={editStatusMode:!1,editCommentMode:!1},a.onClickEditStatus=a.onClickEditStatus.bind(Object(I.a)(a)),a.onClickEditComment=a.onClickEditComment.bind(Object(I.a)(a)),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isSummaryMode,n=t.indicators,r=t.onIndicatorsSubmit,l=t.onCommentsSubmit;return m.a.createElement(ce.f,{isInitialValid:!0,onSubmit:function(t,a){a.setSubmitting(!1),e.state.editStatusMode?r(t):e.state.editCommentMode&&l(t)},initialValues:Object(ee.a)({},n),validationSchema:$e,render:function(t){return e.bindFormSubmission(t.submitForm),e.getHealthIndicatorsTable(t.values,a)}})}}]),t}(m.a.Component);tt.defaultProps={isSummaryMode:!1,onIndicatorsSubmit:function(){},onCommentsSubmit:function(){},onCancel:function(){},blocked:!1,onSubmitErrorCallback:function(){}};var at={overall:{label:"Overall Project Status"},schedule:{label:"Schedule"},scope:{label:"Scope"},quality:{label:"Quality"},cost:{label:"Cost"}},nt=a(670),rt=a(696),lt=a.n(rt),ot=a(196),ct=a.n(ot),it=a(955),st=a.n(it),ut=a(956),mt=a.n(ut),dt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.className;return m.a.createElement("div",{className:e},m.a.createElement(d.j,null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{colSpan:2},m.a.createElement(P.a,{name:"Legend"})))),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{className:mt.a.bkground_grey},"DR Committed"),m.a.createElement("td",null,"Milestone date has passed and is 100% complete")),m.a.createElement("tr",null,m.a.createElement("td",{className:mt.a.bkground_red},"DR Past Due"),m.a.createElement("td",null,"Milestone date has passed but is not 100% complete")))))}}]),t}(m.a.PureComponent),pt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.maxDate,n=t.minDate,r=t.offer,l=t.contributed,o=t.fileExport,c=this.getMinMaxDates(n,a),i=c.min,s=c.max,u=Math.ceil(s.diff(i,"months",!0)),p=this.calculateTdsForYear(u,i),b=p.tdForYear,h=p.currentMonthIndex,_=Object.keys(b),f=this.getMonthsHeader(u,i),E=this.getMilestonesPerMonthForProducts(u,i,r),y=this.getMilestonesPerMonthForProducts(u,i,l),j=st.a.last_completed,O=this.getColsForMonthsColumns(u),k=v()(st.a.offer_th,st.a.offer_th_sticky),N=v()(st.a.type_th,st.a.type_th_sticky),R=v()(j,st.a.last_completed_sticky);return m.a.createElement("div",{className:st.a.table_container},m.a.createElement("div",{className:st.a.overflow_container},m.a.createElement(d.j,{className:st.a.table_class,bordered:!0},m.a.createElement("colgroup",null,m.a.createElement("col",{className:st.a.name_col_size}),m.a.createElement("col",{className:st.a.type_size}),m.a.createElement("col",{className:st.a.last_dr_col_size}),O),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{colSpan:3,className:st.a.sticky_colspan3}),_.map(function(e,t){var a=v()(Object(g.a)({},st.a.year_left_border,0!==t),st.a.th_style);return m.a.createElement("th",{key:e,colSpan:b[e],className:a},m.a.createElement(P.a,{name:e}))})),m.a.createElement("tr",null,m.a.createElement("th",{className:k},m.a.createElement(P.a,{name:"Offer"})),m.a.createElement("th",{className:N},m.a.createElement(P.a,{name:"Type"})),m.a.createElement("th",{className:R},m.a.createElement(P.a,{name:"Last completed (Approved DR)"})),this.getMonthsTds(f,i,h))),m.a.createElement("tbody",null,Object.keys(E).map(function(t){var a=Object(B.c)(E[t].projectId),n=E[t].projectType,r=E[t].lastApproved,l=E[t].milestones,o=v()(st.a.offer_th_sticky,st.a.word_wrap),c=v()(st.a.td_style,st.a.type_th_sticky,st.a.word_wrap),i=v()(st.a.td_style,st.a.last_completed_sticky);return m.a.createElement("tr",{key:t},m.a.createElement("td",{className:o},m.a.createElement("b",null,m.a.createElement(F.a,{url:a,label:t}))),m.a.createElement("td",{className:c},n),m.a.createElement("td",{className:i},r),e.renderMilestonesTds(l,h))}),Object.keys(y).map(function(t){var a=Object(B.c)(y[t].projectId),n=y[t].projectType,r=y[t].lastApproved,l=y[t].milestones,o=v()(st.a.products_name,st.a.offer_th_sticky,st.a.word_wrap),c=v()(st.a.td_style,st.a.type_th_sticky,st.a.word_wrap),i=v()(st.a.td_style,st.a.last_completed_sticky);return m.a.createElement("tr",{key:t},m.a.createElement("td",{className:o},m.a.createElement(F.a,{url:a,label:t})),m.a.createElement("td",{className:c},n),m.a.createElement("td",{className:i},r),e.renderMilestonesTds(l,h))})))),m.a.createElement(dt,{className:st.a.legend}),m.a.createElement(d.b,{minimal:!0,loading:o,intent:C.a.PRIMARY,text:"Export this grid",icon:"export",onClick:this.props.onContribExport}))}},{key:"getColsForMonthsColumns",value:function(e){return Array(e).fill(0).map(function(e,t){return m.a.createElement("col",{key:t,className:st.a.mils_col_size})})}},{key:"getMinMaxDates",value:function(e,t){return{min:a(e),max:a(t).add(1,"month")};function a(e){var t=ct()(e),a=t.year(),n=t.month();return ct()([a,n,1])}}},{key:"calculateTdsForYear",value:function(e,t){for(var a={},n=-1,r=ct()(),l=r.month(),o=r.year(),c=0;c<e;c++){var i=t.clone(),s=i.add(c,"month").year(),u=i.month();s in a?a[s]+=1:a[s]=1,u===l&&s===o&&(n=c)}return{tdForYear:a,currentMonthIndex:n}}},{key:"getMilestonesPerMonth",value:function(e,t,a,n){for(var r=new Array(e).fill(0),l=n.toUpperCase()===ie.f.COMMITTED,o=-1,c=function(e){var n=t.clone().add(e,"month"),c=n.month(),i=n.year(),s=a.filter(function(e){var t=e.actualDate;return ct()(t).year()===i&&ct()(t).month()===c}),u=!1;i!==o&&(o=i,0!==e&&(u=!0)),r[e]={milestones:s,needYearBorder:u,isCommitted:l}},i=0;i<=e;i++)c(i);return this.removeLastTdIfNoMils(r)}},{key:"removeLastTdIfNoMils",value:function(e){return e.length<=0?e:e[e.length-1]&&e[e.length-1].milestones?0!==e[e.length-1].milestones.length?e:e.slice(0,e.length-1):e}},{key:"getMonthsHeader",value:function(e,t){var a=this.props.offer,n=a[Object.keys(a)[0]],r=n.milestones,l=n.projectState;return this.getMilestonesPerMonth(e,t,r,l)}},{key:"getMilestonesPerMonthForProducts",value:function(e,t,a){for(var n={},r=a||[],l=0;l<r.length;l++){var o=r[l],c=o.projectName,i=o.projectId,s=o.projectType,u=o.milestones,m=o.projectState,d=o.lastApproved,p=d?d.label:"";n[c]={projectId:i,projectType:s,milestones:this.getMilestonesPerMonth(e,t,u,m),lastApproved:p}}return n}},{key:"getMonthsTds",value:function(e,t,a){var n=this;return e.map(function(e,r){var l=t.clone(),o=l.add(r,"month").format("MMM"),c=l.year(),i=n.getMilsTdsClasses(a,r,e.needYearBorder);return m.a.createElement("th",{key:"".concat(o,"_").concat(c),className:i},m.a.createElement(P.a,{name:o}))})}},{key:"renderMilestonesTds",value:function(e,t){var a=this;return e.map(function(e,n){var r=a.getMilsTdsClasses(t,n,e.needYearBorder),l=e.milestones;if(0===l.length)return m.a.createElement("td",{key:n,className:r});var o=ct()();return m.a.createElement("td",{key:n,className:r},l.map(function(t){return a.renderMilestoneLabel(t,e.isCommitted,o)}))})}},{key:"getMilsTdsClasses",value:function(e,t,a){return v()(st.a.td_style,Object(g.a)({},st.a.current_month,e===t),Object(g.a)({},st.a.year_left_border,a))}},{key:"renderMilestoneLabel",value:function(e,t,a){var n=e.completion,r=e.actualDate,l=a.diff(ct()(r))>0,o=v()(Object(g.a)({},st.a.bkground_red,l&&100!==n),Object(g.a)({},st.a.bkground_grey,l&&100===n&&t),[st.a.word_wrap],st.a.label),c=e.actualDate,i=Object(y.c)(new Date(c)),s=e.label,u=e.label;return m.a.createElement("div",{key:s,className:o,title:i},u)}}]),t}(m.a.Component);pt.defaultProps={onContribExport:function(){}};var bt=a(957),ht=a.n(bt),_t=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOffer,a=e.isContrib,n=e.className,r=v()(n,Object(g.a)({},ht.a.red,!t&&!a)),l=this.getTitle();return m.a.createElement(P.a,{className:r,name:l})}},{key:"getTitle",value:function(){var e=this.props,t=e.isOffer,a=e.isContrib;return t?"Contributing Open Projects:":a?"Your project has been identified as contributing to the following Offer Project or Solution Release:":"Your project has not been identified as contributing to an Offer"}}]),t}(m.a.PureComponent);_t.defaultProps={isOffer:!1,isContrib:!1,className:""};a(714);var ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleContribExport=a.handleContribExport.bind(Object(I.a)(a)),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.summaryData.loading,a=this.props.defaults.payload,n=new pe(Xe,a);if(t)return m.a.createElement(Q.a,null);var r=this.props.summaryData.payload,l=r.general,o=r.status,c=r.links,i=r.pwsInfo,s=this.props.milestones,u=this.props.healthIndicators,d=this.props.contribTable,p=Object(B.d)(u,"payload.statuses.current.overall"),b=Object(y.e)(p),_=v()(Ve.a.data_fields),f=v()(Ve.a.secondary_card),E=this.getContribTitleClasses(d,a.projectType);return m.a.createElement("div",null,m.a.createElement(h.a,null,s.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(q,{milestones:s.payload,status:b}))),m.a.createElement(h.a,{className:Ve.a.data_container},m.a.createElement("div",{className:"left_part"},Object.keys(l).map(function(e){var t=n.getLabelById(e);return n.displayOrNot(e)&&m.a.createElement("div",{key:e,className:_},m.a.createElement(P.a,{name:t}),"projectDescription"===e?m.a.createElement(W.a,{value:l[e]}):m.a.createElement(Ue,{value:l[e]}))})),m.a.createElement("div",{className:Ve.a.right_part},u.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(tt,{isSummaryMode:!0,indicators:u.payload,fieldsToRender:at})))),m.a.createElement(h.a,{className:Ve.a.data_container},m.a.createElement("div",{className:"left_part"},Object.keys(o).map(function(t){var a=e.getClassForFlag(t),r=n.displayOrNot(t),l=n.getLabelById(t);return r&&m.a.createElement("div",{key:t,className:Ve.a.executive_block},m.a.createElement(P.a,{name:l,className:a}),m.a.createElement(lt.a,{defaultValue:o[t],modules:{toolbar:null},readOnly:!0}))})),m.a.createElement("div",{className:Ve.a.right_part},Object.keys(c).map(function(e){var t=n.displayOrNot(e),a=n.getLabelById(e),r="".concat(c[e]);return t&&m.a.createElement("div",{key:e,className:f},m.a.createElement(P.a,{name:a}),m.a.createElement(Ue,{value:r}))}))),m.a.createElement(h.a,{className:Ve.a.pws_data_container},m.a.createElement("div",null,Object.keys(i).map(function(t){var a=n.displayOrNot(t),r=n.getLabelById(t),l=i[t];return a&&m.a.createElement("div",{key:t,className:Ve.a.data_fields},m.a.createElement(P.a,{name:r}),e.renderHelper(t,l))}))),m.a.createElement(h.a,null,d.loading?m.a.createElement(Q.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(_t,{className:E,isOffer:a.projectType===ie.g.OFFER,isContrib:!!d.payload.offer}),d.payload.offer&&m.a.createElement(nt.a,null,m.a.createElement(pt,{offer:d.payload.offer,contributed:d.payload.products,minDate:d.payload.minDate,maxDate:d.payload.maxDate,onContribExport:this.handleContribExport,fileExport:this.props.contribTable.fileExport})))))}},{key:"handleContribExport",value:function(){var e=this.props.defaults.payload,t=e.projectId,a=e.projectName;return this.props.onContribExport(t,a)}},{key:"renderHelper",value:function(e,t){return"pwsLastUpdatedDate"===e?m.a.createElement(N,{dateStr:t}):m.a.createElement(Ue,{value:t})}},{key:"getClassForFlag",value:function(e){switch(e){case"redFlag":return Ve.a.red;case"orangeFlag":return Ve.a.orange;case"greenFlag":return Ve.a.green;default:return""}}},{key:"getContribTitleClasses",value:function(e,t){if(!e.loading)return v()(Object(g.a)({},Ve.a.bottom_margin,t===ie.g.OFFER||!!e.payload.offer))}}]),t}(m.a.Component),Et=a(82),gt=a(55);var yt=Object(we.b)(Object(we.c)(ft),{onMount:"loadData",onUnmount:"resetData"}),jt=Object(n.b)(function(e){return{defaults:e.pws.defaults,summaryData:e.pws.summaryTab,milestones:e.pws.milestones,healthIndicators:e.pws.healthIndicators,contribTable:e.pws.contribTable}},function(e){return{loadData:function(t){e(Object(Et.f)(t)),e(Object(gt.j)(t))},resetData:function(){e(Object(Et.h)()),e(Object(Se.i)()),e(Object(Ie.l)()),e(Object(gt.l)())},onContribExport:function(t,a){return e(Object(gt.h)(t,a))}}})(yt),vt=a(958),Ot=a.n(vt),kt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).renderBody=function(){var e=a.props,t=e.onDateChangeFactory,n=e.editMode;return m.a.createElement(ce.d,{name:"milestones",render:function(e){var r=[];return m.a.createElement(m.a.Fragment,null,e.form.values.milestones.map(function(l,o){var c=Object(y.b)(l.shown),i=a.hasBaseline(l),s=a.shouldBeExcluded(l),u=a.isLabelEditable(l,r),d=a.shownShouldBeLocked(l),p="milestones[".concat(o,"].label"),b="milestones[".concat(o,"].actualDate"),h=Object(y.c)(new Date(l.actualDate)),_=n&&i,f="milestones[".concat(o,"].baselineDate"),E=Object(y.c)(new Date(l.baselineDate)),g="milestones[".concat(o,"].completion"),j=l.completion,v=n&&!d,O="milestones[".concat(o,"].shown"),k=l.shown,C="milestones[".concat(o,"].meetingMinutes"),N=l.meetingMinutes,R=l.label;return r.push(R),s||m.a.createElement("tr",{key:o},m.a.createElement("td",{className:Ot.a.label},u?m.a.createElement(m.a.Fragment,null,m.a.createElement(re.c,{type:"text",name:p}),a.rowRemoveControls(function(){return e.remove(o)})):m.a.createElement(Ue,{value:R})),m.a.createElement("td",{className:Ot.a.actual},n?m.a.createElement(re.c,{type:"date",name:b,onChange:t(b)}):m.a.createElement(Ue,{value:h})),m.a.createElement("td",{className:Ot.a.baseline},_?m.a.createElement(re.c,{type:"date",name:f,onChange:t(f)}):m.a.createElement(Ue,{value:E})),m.a.createElement("td",{className:Ot.a.completion},n?m.a.createElement(re.c,{type:"numeric",name:g,onValueChange:t(g)}):m.a.createElement(Ue,{value:j})),m.a.createElement("td",{className:Ot.a.timeline},v?m.a.createElement(re.c,{type:"checkbox",name:O,value:k}):m.a.createElement(Ue,{value:c})),m.a.createElement("td",{className:Ot.a.minutes},n?m.a.createElement(re.c,{type:"text",name:C}):m.a.createElement(Ue,{value:N})))}),n&&m.a.createElement(m.a.Fragment,null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:6},m.a.createElement(re.a,{errors:e.form.errors,name:"milestones"}))),m.a.createElement("tr",null,m.a.createElement("td",{colSpan:6,className:Ot.a.align_center},a.rowAddControls(e.push)))))}})},a.shouldBeExcluded=function(e){return a.state.excluded.includes(e.label.toUpperCase())},a.hasBaseline=function(e){return!a.state.withoutBaselineDate.includes(e.label.toUpperCase())},a.isLabelEditable=function(e,t){var n=a.props.editMode;return n&&!a.isMandatory(e.label)||n&&t.includes(e.label.toUpperCase())},a.isMandatory=function(e){return a.props.mandatoryMilestones.includes(e.toUpperCase())},a.shownShouldBeLocked=function(e){return a.state.shownAlwaysTrue.includes(e.label.toUpperCase())},a.rowRemoveControls=function(e){return m.a.createElement(re.b,{type:"delete",onClick:e})},a.rowAddControls=function(e){return m.a.createElement(re.b,{type:"add",onClick:function(){return e(a.getEmptyMilestone())}})},a.getEmptyMilestone=function(){return{label:"",actualDate:null,baselineDate:null,completion:0,shown:!1,meetingMinutes:""}},a.state={milestonesRendered:[],withoutBaselineDate:[ie.b.OR,ie.b.DR0,ie.b.DR1],shownAlwaysTrue:[ie.b.DR1,ie.b.DR4],excluded:[ie.b.OR]},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(d.j,{striped:!0,className:Ot.a.table},m.a.createElement("colgroup",null,m.a.createElement("col",{className:Ot.a.label}),m.a.createElement("col",{className:Ot.a.actual}),m.a.createElement("col",{className:Ot.a.baseline}),m.a.createElement("col",{className:Ot.a.completion}),m.a.createElement("col",{className:Ot.a.timeline}),m.a.createElement("col",{className:Ot.a.minutes})),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,m.a.createElement(P.a,{name:"Project Milestone Label"})),m.a.createElement("th",{className:Ot.a.align_center},m.a.createElement(P.a,{name:"Actual/Forecast Date"})),m.a.createElement("th",{className:Ot.a.align_center},m.a.createElement(P.a,{name:"Baseline Date"})),m.a.createElement("th",{className:Ot.a.align_center},m.a.createElement(P.a,{name:"Milestone Completion (%)"})),m.a.createElement("th",{className:Ot.a.align_center},m.a.createElement(P.a,{name:"Shown in Timeline"})),m.a.createElement("th",{className:Ot.a.align_center},m.a.createElement(P.a,{name:"Milestone meeting minutes"})))),m.a.createElement("tbody",null,this.renderBody())))}}]),t}(m.a.Component);kt.defaultProps={editMode:!1,onChange:function(){},mandatoryMilestones:[]};var Ct=a(959),Nt=a.n(Ct),Rt={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}},projectDescription:{label:"Project Description",type:"textarea"},oemPartner:{label:"OEM Partner",allowedIf:{projectType:[ie.g.OEM_PRODUCT]}},keyCustomers:{label:"Key Customers"},productRelease:{label:"Product Release",allowedIf:{epm:[!1]},editable:!1},projectType:{label:"Project Type",allowedIf:{epm:[!1]},editable:!1},projectRigor:{label:"Project Rigor",allowedIf:{epm:[!1]},editable:!1},projectState:{label:"Project State",allowedIf:{epm:[!1]},editable:!1},businessDivision:{label:"Business Division",editable:!1},businessUnit:{label:"Business Unit",editable:!1},productLine:{label:"Product Line",editable:!1},productName:{label:"Product Name",editable:!1},sponsor:{label:"Sponsor",editable:!1},businessLineManager:{label:"Business Line Manager",editable:!1},productLineManager:{label:"Product Line Manager",editable:!1},projectManager:{label:"Project Manager",allowedIf:{epm:[!1]},editable:!1},charter:{label:"Charter"},orBusinessPlan:{label:"OR Business Plan",editable:!1},updatedBusinessPlan:{label:"Updated Business Plan",help:{title:"Updated Business Plan Comment",content:"Where is this info provided ? Can be an update of the OR Business Plan, a new dedicated document, some slides in DR1 (OBR, DR3 \u2026) meeting minutes \u2026"}},drChecklist:{label:"Tailoring",help:{title:"Tailoring Comment",content:"Where is this info provided ? Can be a dedicated tailored DR-checklist, a chapter in the Charter or some slides in DR0 (DR1, OBR, \u2026) meeting minutes \u2026"}},lessonsLearned:{label:"Lessons learned",help:{title:"Lessons Learned Comment",content:"Where is this info provided ? Can be a dedicated document, some slides in DR0 (DR1, OBR, DR4 \u2026) meeting minutes \u2026<br/>When project starts, provide the link to the lessons learned used to improve the process ; when the project ends, provide the links of the lessons learned you want to share, that other Releases (or projects) may use"}},projectPlan:{label:"Project Plan",help:{title:"Project Plan Comment",content:"Where is this info provided ? Can be a dedicated document, some slides in DR0 (DR1, OBR, \u2026) meeting minutes \u2026"}},launchingPlan:{label:"Launching Plan",help:{title:"Launching Plan Comment",content:"Where is this info provided ? Can be a dedicated document, some slides in DR0 (DR1, OBR, \u2026) meeting minutes \u2026"},allowedIf:{projectType:[ie.g.OFFER,ie.g.OFFER_PRODUCT]}},metricsScope:{label:"Metrics Scope",notAllowedIf:{projectType:[ie.g.OFFER]}},rqRelease:{label:"RQ Release Name (JIRA)",notAllowedIf:{projectType:[ie.g.OFFER]}},ecmaBacklogTarget:{label:"ECMA Backlog Target"},maintenance:{label:"Maintenance Project",type:"checkbox"},composite:{label:"Composite Project",type:"checkbox"},contributingProjects:{label:"Contributing Projects"},projectCollabUrl:{label:"Project Collaboration Site"},salesForce:{label:"Sales Force",allowedIf:{projectType:[ie.g.OFFER,ie.g.OFFER_PRODUCT]}},projectPWASiteUrl:{label:"Project PWA Site",allowedIf:{epm:[!0]}},docRepositoryUrl:{label:"Project Documentation Repository"},defectsUrl:{label:"Defects (JIRA)",notAllowedIf:{projectType:[ie.g.OFFER]}},requirementsUrl:{label:"Requirements (JIRA)",notAllowedIf:{projectType:[ie.g.OFFER]}},cisUrl:{label:"Continuous Integration Site",notAllowedIf:{projectType:[ie.g.OFFER]}}};Object.defineProperty(Rt,"controls",{enumerable:!1,configurable:!0,writable:!0});var wt=Rt,Dt=function(e){return Ze.number().integer(ie.i.typeError.integer).typeError(ie.i.typeError.number).max(e,ie.i.number.MAX).nullable().transform(function(e,t){return""===(t+"").trim()?null:e})};function St(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return this.test("unique",e,function(e){return e.length===new Set(e.map(t)).size})}var It=a(1002),Mt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).submitForm=null,a.bindFormSubmission=function(e){a.submitForm=e},a.sendData=function(e){(0,a.props.saveInfo)(a.props.defaults.payload.projectId,e)},a.cancelInput=function(){var e=a.props.defaults.payload.projectId;a.props.loadData(e),a.editClickHandle()},a.editClickHandle=function(){a.setState(function(e){return{editMode:!e.editMode}})},a.handleChange=null,a.populateMandatoryMilestones=function(){return a.mandatoryMilestones.map(function(e){return{label:e,actualDate:null,baselineDate:null,completion:0,shown:!1,meetingMinutes:""}})},a.mainRows=function(e,t){return Object.keys(wt).map(function(n){return void 0===e[n]||a.renderRow(n,t,e)})},a.renderRow=function(e,t,n){var r=n[e];switch(e){case"lessonsLearned":case"updatedBusinessPlan":case"drChecklist":case"launchingPlan":case"projectPlan":return a.renderRowWithComment(e,t,r);case"ecmaBacklogTarget":return a.renderEcmaBacklogRow(e,t,r);case"contributingProjects":var l=n.composite;return a.renderContributingProjectsRow(e,t,r,l);default:return a.renderSimpleRow(e,t,r)}},a.renderSimpleRow=function(e,t,n){var r=a.state.editMode,l=a.selectClass(t),o=a.renderHelper.getFieldProps(e,n),c=Object(A.a)(n)?Object(y.b)(n):n,i=a.renderHelper.displayOrNot(e),s=a.renderHelper.getLabelById(e),u=r&&a.renderHelper.isEditable(e),d="".concat(t,".").concat(e);return i&&m.a.createElement("div",{key:e,className:l},m.a.createElement(P.a,{name:s}),u?m.a.createElement(re.c,Object.assign({},o,{name:d})):a.renderValue(e,c))},a.renderRowWithComment=function(e,t,n){var r=a.state.editMode,l=a.renderHelper.getHelpObject(e),o=a.renderHelper.getFieldProps(e,n),c=a.renderHelper.displayOrNot(e),i=a.renderHelper.getLabelById(e),s=r&&a.renderHelper.isEditable(e),u="".concat(t,".").concat(e,".value"),p="".concat(t,".").concat(e,".comment");return c&&m.a.createElement("div",{key:e,className:Nt.a.data_container_comment},m.a.createElement("div",{className:Nt.a.comment_row_label},m.a.createElement(P.a,{name:i})),s?m.a.createElement(re.c,Object.assign({},o,{name:u,className:Nt.a.comment_row_value})):m.a.createElement(Ue,{value:n.value,className:Nt.a.comment_row_value}),m.a.createElement("div",{className:Nt.a.comment_row_comment},m.a.createElement(P.a,{name:"Comment"}),m.a.createElement(d.B,{position:ue.a.LEFT,content:m.a.createElement(Je,{title:l.title,content:l.content})},m.a.createElement(ze,{className:Nt.a.help_icon}))),r?m.a.createElement(re.c,{type:"textarea",name:p,className:Nt.a.comment_row_comment_value}):m.a.createElement(W.a,{value:n.comment,className:Nt.a.comment_row_comment_value}))},a.renderEcmaBacklogRow=function(e,t){var n=a.state.editMode,r=a.renderHelper.displayOrNot(e),l="".concat(t,".").concat(e),o=a.renderHelper.getLabelById(e);return r&&m.a.createElement(ce.d,{key:l,name:l,render:function(r){var l=r.form.values[t][e],c="".concat(t,".").concat(e),i=r.form.errors;return m.a.createElement("div",{key:e,className:Nt.a.data_container},m.a.createElement(P.a,{name:o}),m.a.createElement("div",{className:Nt.a.ecma_backlog_row},Object.keys(l).map(function(r,o){var c="".concat(t,".").concat(e,".").concat(r,".milestone"),i="".concat(t,".").concat(e,".").concat(r,".value"),s=l[r].milestone,u=l[r].value;return m.a.createElement(m.a.Fragment,{key:r},m.a.createElement(P.a,{key:"milestone_".concat(o),name:"Milestone"}),n?a.getMilestoneSelector(c,"mil_val_".concat(o)):m.a.createElement(Ue,{key:"mil_val_".concat(o),value:s}),m.a.createElement(P.a,{key:"value_".concat(o),name:"Value",className:Nt.a.value_label}),n?m.a.createElement(re.c,{key:"val_val_".concat(o),type:"numeric",onValueChange:a.handleChange(i),name:i}):m.a.createElement(Ue,{key:"val_val_".concat(o),value:u}))}),m.a.createElement(re.a,{name:c,errors:i})))}})},a.renderContributingProjectsRow=function(e,t,n,r){var l=a.props.contrib,o=l.loading,c=l.payload,i=a.state.editMode,s=n.map(function(e){return e.projectName}),u=a.handleChange("".concat(t,".").concat(e)),p=a.selectClass(t),b=a.renderHelper.displayOrNot(e)&&r,h=!o&&i&&a.renderHelper.isEditable(e),_=a.renderHelper.getLabelById(e);return b&&m.a.createElement("div",{key:e,className:p},m.a.createElement(P.a,{name:_}),h&&m.a.createElement(It.a,{items:c,itemListPredicate:function(e,t){return t.filter(function(t){return String(t.projectName).toLowerCase().includes(e.toLowerCase())})},itemRenderer:function(e,t){var n=t.handleClick;return m.a.createElement(d.n,{key:e.projectName,text:e.projectName,onClick:n,active:a.isActive(e.projectName,s)})},selectedItems:s,onItemSelect:function(e){u(a.addProject(e,n))},noResults:m.a.createElement(d.n,{disabled:!0,text:"No results."}),tagRenderer:function(e){return e},tagInputProps:{onRemove:function(e){u(a.removeProject(e,n))}},popoverProps:{popoverClassName:Nt.a.multiselect}}),i||m.a.createElement("div",null,s.map(function(e){return m.a.createElement(m.a.Fragment,{key:e},m.a.createElement(Ue,{className:Nt.a.prj_margin,value:e}))})))},a.addProject=function(e,t){return t.map(function(e){return e.projectName}).includes(e.projectName)?t:[].concat(Object(S.a)(t),[e])},a.removeProject=function(e,t){return t.filter(function(t){return t.projectName!==e})},a.isActive=function(e,t){return t.includes(e)},a.selectClass=function(e){switch(e){case"urls":return Nt.a.url_container;case"general":default:return Nt.a.data_container}},a.handleSubmitWithErrors=function(e){e.isValid||a.props.pushWarningToast(ie.d.FORM_SUBMIT_ERROR)},a.state={editMode:!1},a.mandatoryMilestones=[ie.b.OR,ie.b.DR0,ie.b.DR1,ie.b.DR2,ie.b.DR3,ie.b.TR,ie.b.DR4,ie.b.DR5,ie.b.OBR,ie.b.CI],a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.information;if(t.loading)return m.a.createElement(Q.a,null);var a=t.payload,n=a.general,r=a.urls,l=this.props.milestones.payload;0===l.length&&(l=this.populateMandatoryMilestones());var o=this.props.defaults.payload;this.renderHelper=new pe(wt,o);var c=this.renderHelper.displayOrNot("controls");return m.a.createElement(ce.f,{enableReinitialize:!0,isInitialValid:!0,onSubmit:function(t,a){a.setSubmitting(!1),e.sendData(t),e.editClickHandle()},initialValues:{general:n,urls:r,milestones:l},validationSchema:(Ze.addMethod(Ze.array,"unique",St),Ze.object().shape({general:Ze.object().shape({oemPartner:Ze.string().max(256,ie.i.string.MAX).nullable(),keyCustomers:Ze.string().max(256,ie.i.string.MAX).nullable(),charter:Ze.string().max(512,ie.i.string.MAX).nullable(),updatedBusinessPlan:Ze.object().shape({value:Ze.string().max(512,ie.i.string.MAX).nullable(),comment:Ze.string().max(255,ie.i.string.MAX).nullable()}),drChecklist:Ze.object().shape({value:Ze.string().max(512,ie.i.string.MAX).nullable(),comment:Ze.string().max(255,ie.i.string.MAX).nullable()}),lessonsLearned:Ze.object().shape({value:Ze.string().max(512,ie.i.string.MAX).nullable(),comment:Ze.string().max(255,ie.i.string.MAX).nullable()}),projectPlan:Ze.object().shape({value:Ze.string().max(512,ie.i.string.MAX).nullable(),comment:Ze.string().max(255,ie.i.string.MAX).nullable()}),launchingPlan:Ze.object().shape({value:Ze.string().max(512,ie.i.string.MAX).nullable(),comment:Ze.string().max(255,ie.i.string.MAX).nullable()}),metricsScope:Ze.string().max(100,ie.i.string.MAX).nullable(),rqRelease:Ze.string().max(100,ie.i.string.MAX).nullable(),ecmaBacklogTarget:Ze.array().of(Ze.object().shape({milestone:Ze.string(),value:Dt(9999)})).nullable(),projectCollabUrl:Ze.string().max(512,ie.i.string.MAX).nullable(),projectPWASiteUrl:Ze.string().max(512,ie.i.string.MAX).nullable(),docRepositoryUrl:Ze.string().max(512,ie.i.string.MAX).nullable(),defectsUrl:Ze.string().max(512,ie.i.string.MAX).nullable(),requirementsUrl:Ze.string().max(512,ie.i.string.MAX).nullable(),cisUrl:Ze.string().max(512,ie.i.string.MAX).nullable()}),milestones:Ze.array().of(Ze.object().shape({label:Ze.string().max(45,ie.i.string.MAX).required(ie.i.REQUIRED),completion:Ze.number().min(0,ie.i.number.MIN).max(100,ie.i.number.MAX),meetingMinutes:Ze.string().max(512,ie.i.string.MAX).nullable()})).unique("Duplicated label",function(e){return e.label.toUpperCase()})})),render:function(t){return e.x=t.validateForm,e.bindFormSubmission(t.submitForm),e.handleChange=Object(B.b)(t),m.a.createElement("div",null,c&&m.a.createElement(ne,{sticky:!0,onClick:e.editClickHandle,onSubmit:e.submitForm,onCancel:e.cancelInput,editMode:e.state.editMode}),m.a.createElement(h.a,null,e.mainRows(t.values.general,"general")),m.a.createElement(h.a,null,l.loading?m.a.createElement(Q.a,null):m.a.createElement(kt,{editMode:e.state.editMode,milestonesData:t.values.milestones,onDateChangeFactory:Object(B.b)(t),mandatoryMilestones:e.mandatoryMilestones})),m.a.createElement(h.a,null,e.mainRows(t.values.urls,"urls")),m.a.createElement(et.a,{callback:e.handleSubmitWithErrors}))}})}},{key:"renderValue",value:function(e,t){return"projectDescription"===e?m.a.createElement(W.a,{value:t}):m.a.createElement(Ue,{value:t})}},{key:"getMilestoneSelector",value:function(e,t){return m.a.createElement(ce.c,{key:t,component:"select",name:e},m.a.createElement("option",{value:""},"\xa0"),m.a.createElement("option",{value:"CI"},"CI"),m.a.createElement("option",{value:"TR"},"TR"),m.a.createElement("option",{value:"DR4"},"DR4"),m.a.createElement("option",{value:"DR5"},"DR5"))}}]),t}(m.a.Component),xt=a(68),Tt=a(83);var Pt=Object(we.b)(Object(we.c)(Mt),{onMount:"loadData",onUnmount:"resetData"}),At=Object(n.b)(function(e){return{defaults:e.pws.defaults,information:e.pws.infoTab,milestones:e.pws.milestones,contrib:e.pws.contrib}},function(e){return{saveInfo:function(t,a){return e(Object(xt.j)(t,a))},saveMilestones:function(t,a){return e(Object(Se.j)(t,a))},loadData:function(t){e(Object(xt.g)(t)),e(Object(Se.g)(t,!1)),e(Object(Tt.e)(t))},resetData:function(){e(Object(xt.i)()),e(Object(Se.i)()),e(Object(Tt.h)())},pushWarningToast:function(t){return e(Object(xe.g)(t))}}})(Pt),Ft=a(960),Bt=a.n(Ft),qt=a(961),Lt=a.n(qt),Ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).onClickEdit=function(){a.setState(function(e){return{editMode:!e.editMode}})},a.bindFormSubmission=function(e){a.onSubmit=e},a.onSubmit=null,a.updateFieldHandler=null,a.renderRqsTable=function(e){var t=v()(Lt.a.value_col,Lt.a.column_align_center),n=a.props,r=n.rqsReload,l=n.fieldsToRender,o=a.props.renderHelper;return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.j,{className:Lt.a.req_table,striped:!0},m.a.createElement("colgroup",null,m.a.createElement("col",{className:Lt.a.title_col}),m.a.createElement("col",{className:t})),m.a.createElement("thead",null,o.displayOrNot("controls")&&m.a.createElement("tr",null,m.a.createElement("th",{className:Lt.a.table_header,colSpan:2},m.a.createElement(ne,{smallSize:!0,onClick:a.onClickEdit,editMode:a.state.editMode,onSubmit:a.onSubmit,onCancel:r})))),m.a.createElement("tbody",null,o.displayOrNot("note")&&m.a.createElement("tr",null,m.a.createElement("td",{colSpan:2},m.a.createElement(P.a,{name:o.getLabelById("note")}))),Object.keys(l).map(function(t){var n=o.getLabelById(t),r=a.renderValueField(t,e);return o.displayOrNot(t)&&m.a.createElement("tr",{key:t},m.a.createElement("td",null,m.a.createElement(P.a,{name:n})),m.a.createElement("td",null,m.a.createElement("div",{className:Lt.a.column_align_center},r)))}))),m.a.createElement(et.a,{callback:a.handleSubmitWithErrors}))},a.renderValueField=function(e,t){var n=a.props.requirements.dr1Actual,r=null===n||""===n?"":new Date(n),l=a.props.requirements.sum,o=t[e];switch(e){case"dr1Actual":var c=Object(y.c)(r);return m.a.createElement(Ue,{value:c,className:Lt.a.column_align_center});case"sum":return m.a.createElement(Ue,{value:l,className:Lt.a.column_align_center});default:return a.state.editMode?m.a.createElement(re.c,{type:"numeric",name:e,onValueChange:a.updateFieldHandler(e)}):m.a.createElement(Ue,{value:o,className:Lt.a.column_align_center})}},a.handleSubmitWithErrors=function(e){e.isValid||e.isSubmitting||a.props.onSubmitErrorCallback(ie.d.FORM_SUBMIT_ERROR)},a.state={editMode:!1},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.requirements,a=this.props.rqsSubmit;return m.a.createElement(ce.f,{isInitialValid:!0,onSubmit:function(e,t){t.setSubmitting(!1),a(e)},initialValues:t,validationSchema:(Ze.addMethod(Ze.array,"unique",St),Ze.object().shape({addedAfterDr1:Dt(99999),committedAtDr1:Dt(99999),modifiedAfterDr1:Dt(99999),removedAfterDr1:Dt(99999)})),render:function(t){return e.bindFormSubmission(t.submitForm),e.updateFieldHandler=Object(B.b)(t),e.renderRqsTable(t.values)}})}}]),t}(m.a.Component);Ut.defaultProps={rqsSubmit:function(){},rqsReload:function(){}};var Ht={controls:{label:"Controls",allowedIf:{workspaceStatus:[ie.j.ENABLED]}},note:{label:"* For Offer Program, Requirement means 'Commercial deliverable'",allowedIf:{projectType:[ie.g.OFFER]}},dr1Actual:{label:"DR1 date (actual)"},committedAtDr1:{label:"# Requirements committed (baseline) at DR1"},addedAfterDr1:{label:"Current # of requirements added after DR1"},removedAfterDr1:{label:"Current # of baselined requirements removed after DR1"},modifiedAfterDr1:{label:"Current # of baselined requirements modified after DR1"},sum:{label:"Current # of scoped requirements"}};Object.defineProperties(Ht,{controls:{enumerable:!1,writable:!0,configurable:!0},note:{enumerable:!1,writable:!0,configurable:!0}});var Vt=Ht,Xt=a(962),Wt=a.n(Xt),Yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={defaults:{noMilestonesLabel:"No suitable TR, DR4, DR5, CI milestones found"}},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=v()(Wt.a.column_align_center,Wt.a.borderBottom);return m.a.createElement(d.j,{className:Wt.a.mil_table,striped:!0},m.a.createElement("colgroup",null,m.a.createElement("col",{className:Wt.a.mil_col}),m.a.createElement("col",{className:Wt.a.adh_col}),m.a.createElement("col",{className:Wt.a.delay_col}),m.a.createElement("col",{className:Wt.a.duration_col})),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:e,colSpan:4},"COMMITTED versus ACTUAL")),m.a.createElement("tr",null,m.a.createElement("th",null,"Milestone"),m.a.createElement("th",{className:Wt.a.column_align_center},"Schedule Adherence"),m.a.createElement("th",{className:Wt.a.column_align_center},"Delay (days)"),m.a.createElement("th",{className:Wt.a.column_align_center},"Project Duration from DR1"))),m.a.createElement("tbody",null,this.renderBody()))}},{key:"renderBody",value:function(){var e=this.props.milestonesKpi.filter(function(e){return!(0===e.adherence&&0===e.delay&&0===e.duration)});if(e.length>0)return e.map(function(e,t){var a=e.label,n=Object(y.j)(e.adherence),r=e.delay,l=1===e.duration?"".concat(e.duration," day"):"".concat(e.duration," days");return m.a.createElement("tr",{key:t},m.a.createElement("td",null,m.a.createElement(P.a,{name:a})),m.a.createElement("td",{className:Wt.a.column_align_center},n),m.a.createElement("td",{className:Wt.a.column_align_center},r),m.a.createElement("td",{className:Wt.a.column_align_center},l))});var t=this.state.defaults.noMilestonesLabel;return m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4,className:Wt.a.column_align_center},m.a.createElement(P.a,{name:t})))}}]),t}(m.a.PureComponent);Yt.defaultProps={milestonesKpi:[]};var zt=a(963),Gt=a.n(zt),Kt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=Gt.a.header,t=this.props,a=t.dr4Kpi,n=t.fieldsToRender,r=n.year.label,l=a.year;return m.a.createElement(d.j,{striped:!0,className:Gt.a.kpi_table},m.a.createElement("colgroup",null,m.a.createElement("col",{className:Gt.a.name_col}),m.a.createElement("col",{className:Gt.a.value_col})),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement(P.a,{name:r})),m.a.createElement("td",null,l)),m.a.createElement("tr",null,m.a.createElement("td",{className:e}),m.a.createElement("td",{className:e},"COMMITTED vs ACTUAL"))),m.a.createElement("tbody",null,Object.keys(n).map(function(e){var t=n[e].label,r=Object(y.j)(a[e]),l=n[e].help;return m.a.createElement("tr",{key:e},m.a.createElement("td",null,m.a.createElement(P.a,{name:t}),m.a.createElement(d.B,{position:ue.a.TOP,className:Gt.a.help,content:m.a.createElement(Je,{title:l.title,content:l.content})},m.a.createElement(ze,null))),m.a.createElement("td",null,m.a.createElement(Ue,{value:r,className:Gt.a.value_col})))})))}}]),t}(m.a.Component),Qt={year:{label:"Year (based on DR1 date)"},scheduleAdherence:{label:"Schedule Adherence",help:{title:"KPI Goals - Schedule",content:"Schedule Variance = (Actual/Forecast DR4 date - Actual DR1 date) / (Committed DR4 date - Actual DR1 date)"}},contentAdherence:{label:"Content Adherence",help:{title:"Ratio of requirements committed at DR1 and delivered unchanged",content:"Content Adherence = (<u># Requirements committed (baseline) at DR1</u> - <u>Current # of baselined requirements removed after DR1</u> - <u>Current # of baseline requirements modified after DR1)</u> / <u># Requirements committed (baseline) at DR1</u> * 100%"}},rqsChange:{label:"Requirements Change",help:{title:"Ratio of changes compared to committed requirements",content:"Requirements Change = <u>(Current # of requirements added after DR1 + Current # of baselined requirements removed after DR1</u> + <u>Current # of baselined requirements modified after DR1)</u> /  <u># Requirements committed (baseline) at DR1</u> * 100%"}},costAdherence:{label:"Cost Adherence",help:{title:"Cost Adherence",content:"Cost-variance = (costs realized at DR4) / (costs up to DR4 committed at DR1) <br/><br/>Included: effort, Opex & Capex (see Cost tab)"}}};Object.defineProperty(Qt,"year",{configurable:!0,writable:!0,enumerable:!1});var Jt=Qt,Zt=a(964),$t=a.n(Zt),ea=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).onSubmitForm=null,a.updateNumericHandler=null,a.bindFormSubmission=function(e){a.onSubmitForm=e},a.onClickEdit=function(){a.setState(function(e){return{editMode:!e.editMode}})},a.renderQualityForm=function(e){var t=a.props.qualityKpi.syncDate,n=a.props,r=n.fieldsToRender,l=n.onCancel,o=n.fieldsRenderValidation;a.renderHelper=new pe(r,o);var c=a.renderHelper.displayOrNot("controls"),i=a.getSyncButtonProps(!!o.dr1Actual);return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("div",{className:$t.a.header},c&&m.a.createElement(d.b,Object.assign({minimal:!0,intent:"primary"},i),m.a.createElement(d.k,{icon:"refresh"})),"Last synchro:",m.a.createElement(N,{className:$t.a.sync_date,dateStr:t})),c&&m.a.createElement(ne,{className:$t.a.float_right,onClick:a.onClickEdit,onSubmit:a.onSubmitForm,editMode:a.state.editMode,onCancel:l})),m.a.createElement(d.j,{striped:!0,className:$t.a.quality_table},m.a.createElement("colgroup",null,m.a.createElement("col",{className:$t.a.descr_col}),m.a.createElement("col",{className:$t.a.controls_col}),m.a.createElement("col",{className:$t.a.controls_col}),m.a.createElement("col",{className:$t.a.obj_col}),m.a.createElement("col",{className:$t.a.actual_col}),m.a.createElement("col",null)),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null),m.a.createElement("th",null),m.a.createElement("th",null),m.a.createElement("th",{className:$t.a.column_align_center},"Objective"),m.a.createElement("th",{className:$t.a.column_align_center},"Actual value"),m.a.createElement("th",{className:$t.a.column_align_center},"Comment"))),m.a.createElement("tbody",null,Object.keys(r).map(function(t){return!a.renderHelper.displayOrNot(t)||("testExecution"===t||"testRate"===t?a.renderComplexRows(e,t,!0):a.renderComplexRows(e,t,!1))}))),m.a.createElement(et.a,{callback:a.handleSubmitWithErrors}))},a.renderComplexRows=function(e,t,n){var r=e[t].length,l=r<2?1:r,o=e[t];return m.a.createElement(ce.d,{key:t,name:t,render:function(r){var c=a.props.fieldsToRender[t].label,i=a.renderHelper.getHelpObject(t);o&&0===o.length&&(o=[a.getEmptyRowObject("")]);var s=o[0].comment,u=a.isEditable(t);return o.map(function(o,p){var b=a.getInputAttrs(n,t,p),h=a.state.editMode&&n,_="".concat(t,"[").concat(p,"].objective"),f="".concat(t,"[").concat(p,"].actual"),E="".concat(t,"[").concat(p,"].comment");return m.a.createElement("tr",{key:"".concat(t,"_").concat(p)},0===p&&m.a.createElement(m.a.Fragment,null,m.a.createElement("td",{rowSpan:l},m.a.createElement("div",{className:$t.a.title_container},m.a.createElement("div",{className:$t.a.row_name_container},m.a.createElement(P.a,{name:c})),m.a.createElement("div",{className:$t.a.help_container},m.a.createElement(d.B,{position:ue.a.TOP,content:m.a.createElement(Je,{title:i.title,content:i.content})},m.a.createElement(ze,{className:$t.a.help_icon}))))),m.a.createElement("td",{rowSpan:l},h&&m.a.createElement(re.b,{type:"add",onClick:function(){return r.push(a.getEmptyRowObject(s))},className:$t.a.controls}))),m.a.createElement("td",null,h&&m.a.createElement(re.b,{type:"delete",onClick:function(){return a.removeRow(e[t],r,p)},className:$t.a.controls})),m.a.createElement("td",{className:$t.a.column_align_center},a.state.editMode?m.a.createElement(re.c,Object.assign({name:_},b)):m.a.createElement(Ue,{value:a.emptyToZero(o.objective)})),m.a.createElement("td",{className:$t.a.column_align_center},a.renderActual(u,f,o.actual)),0===p&&m.a.createElement("td",{rowSpan:l,className:$t.a.column_align_center},a.state.editMode?m.a.createElement(re.c,{type:"textarea",name:E}):m.a.createElement(W.a,{value:s})))})}})},a.isEditable=function(e){return"quality"!==e&&"defects"!==e&&"backlog"!==e&&a.state.editMode},a.emptyToZero=function(e){return""===e?0:e},a.getEmptyRowObject=function(e){return{rowNumber:0,objective:0,actual:0,comment:e}},a.removeRow=function(e,t,n){1===e.length?(t.unshift(a.getEmptyRowObject()),t.pop()):t.remove(n)},a.handleSubmitWithErrors=function(e){e.isValid||e.isSubmitting||a.props.onSubmitErrorCallback(ie.d.FORM_SUBMIT_ERROR)},a.state={editMode:!1},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.qualityKpi,n=t.onSubmit,r=a.quality,l=a.defects,o=a.backlog,c=a.testExecution,i=a.testRate;return r=this.fillArrayIfEmpty(r),l=this.fillArrayIfEmpty(l),o=this.fillArrayIfEmpty(o),c=this.fillArrayIfEmpty(c),i=this.fillArrayIfEmpty(i),m.a.createElement(ce.f,{isInitialValid:!0,initialValues:{quality:r,defects:l,backlog:o,testExecution:c,testRate:i},onSubmit:function(t){n(t),e.onClickEdit()},validationSchema:(Ze.addMethod(Ze.array,"unique",St),Ze.object().shape({backlog:Ze.array().of(Ze.object().shape({objective:Dt(999999),comment:Ze.string().max(256,ie.i.string.MAX).nullable()})),defects:Ze.array().of(Ze.object().shape({objective:Dt(999999),comment:Ze.string().max(256,ie.i.string.MAX).nullable()})),quality:Ze.array().of(Ze.object().shape({objective:Dt(999999),comment:Ze.string().max(256,ie.i.string.MAX).nullable()})),testExecution:Ze.array().of(Ze.object().shape({actual:Ze.string().max(512,ie.i.string.MAX).nullable(),objective:Ze.string().max(6,ie.i.string.MAX).nullable(),comment:Ze.string().max(256,ie.i.string.MAX).nullable()})),testRate:Ze.array().of(Ze.object().shape({actual:Ze.string().max(512,ie.i.string.MAX).nullable(),objective:Ze.string().max(6,ie.i.string.MAX).nullable(),comment:Ze.string().max(256,ie.i.string.MAX).nullable()}))})),render:function(t){return e.bindFormSubmission(t.submitForm),e.updateNumericHandler=Object(B.b)(t),e.renderQualityForm(t.values)}})}},{key:"fillArrayIfEmpty",value:function(e){return 0===e.length&&e.push(this.getEmptyRowObject("")),e}},{key:"getSyncButtonProps",value:function(e){var t=this.props.qualityKpi.updateInProcess,a={};return e||(a.disabled=!0,a.title="Set DR1 date to enable syncro"),a.loading=t,a}},{key:"getInputAttrs",value:function(e,t,a){var n={},r="".concat(t,"[").concat(a,"].objective");if(e){var l=Object(B.f)();n.onChange=this.updateNumericHandler(r,l),n.type="text"}else n.onValueChange=this.updateNumericHandler(r),n.type="numeric";return n}},{key:"renderActual",value:function(e,t,a){if(e)return m.a.createElement(re.c,{type:"text",name:t});var n=this.emptyToZero(a),r=new RegExp(/backlog|quality|defects/),l=this.props.projectId;if(0!=n&&r.test(t)){var o=t.match(r),c="/api/kpi/".concat(o,"/issuesList/").concat(l);return m.a.createElement(F.a,{url:c,label:n})}return m.a.createElement(Ue,{value:n})}}]),t}(m.a.Component);ea.defaultProps={onSubmit:function(){},onCancel:function(){},onSubmitErrorCallback:function(){}};var ta={controls:{label:"Sync Button",allowedIf:{workspaceStatus:[ie.j.ENABLED]}},quality:{label:"Quality KPI",help:{title:"Quality (ecma CRs)",content:"This indicator represents the quality of the product, i.e. the defects that are still open; This includes:<ul><li>New Open Defects (dedicated KPI)</li><li>Defects found on another release, needing a fix on this release (reports)</li></ul><u>Actual value</u>: current NB of CRs, if date > DR4 it is the NB of CRs at DR4<br/><br/><u>Objective</u>: DR4 target, NB of CRs"}},defects:{label:"New Open Defects",allowedIf:{maintenance:[!1]},help:{title:"New Open Defects (ecma CRs)",content:"This indicator is part of the quality of the product, i.e. the defects submitted on this project (see \u2018metrics scope\u2019 in Info TAB); reports are not included; for \u2018OT\u2019, related component CRs are included<br/><br/><u>Actual value</u> : current NB of CRs, if date > DR4 it is the NB of CRs at DR4<br/><br/><u>Objective</u> : DR4 target, NB of CRs"}},backlog:{label:"Backlog Reduction",help:{title:"Backlog Reduction (ecma CRs)",content:"This indicator represents the contribution of the project to the quality improvement of the product; in other words the defects in the backlog at DR1 on this project (all releases), that are no longer in the backlog at DR4 AND that have been closed by this project (see \u2018metrics scope\u2019 in Info TAB);<br/><br/><u>Actual value</u> : current NB of CRs, if date > DR4 it is the NB of CRs at DR4<br/><br/><u>Objective</u> : DR4 target, NB of CRs"}},testExecution:{label:"Test execution (rate or number)",help:{title:"Test execution",content:"Provide number (or ratio) of tests executed (actual value), as well as the objective;<br/><br/>Actual value can be a link to testrail report;<br/>In case you need to split test coverage to several topics (or campaigns) add a line ('green plus' button is displayed when entering edition mode)"}},testRate:{label:"Test pass (rate or number)",help:{title:"Test pass",content:"Provide number (or ratio) of tests successfully executed (actual value), as well as the objective;<br/><br/>Actual value can be a link to testrail report;<br/>In case you need to split test coverage to several topics (or campaigns) add a line ('green plus' button is displayed when entering edition mode)"}}};Object.defineProperty(ta,"controls",{enumerable:!1,configurable:!0,writable:!0});var aa=ta,na={controls:{notAllowedIf:{workspaceStatus:[ie.j.ENABLED]}},quality:{label:"Quality",notAllowedIf:{projectType:[ie.g.OFFER]}}},ra=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleHealthIndicatorsSubmit=function(e){a.props.healthIndicatorsSubmit(a.projectId,e)},a.handleHealthCommentsSubmit=function(e){a.props.healthCommentsSubmit(a.projectId,e)},a.handleHealthReload=function(){a.props.healthReload(a.projectId)},a.handleRqsSubmit=function(e){a.props.rqsSubmit(a.projectId,e)},a.handleRqsReload=function(){a.props.rqsReload(a.projectId)},a.handleQualityReload=function(){a.props.qualityReload(a.projectId)},a.handleQualitySubmit=function(e){a.props.qualitySubmit(a.projectId,e)},a.onSubmitErrorHandler=function(){return a.props.pushWarningToast(ie.d.FORM_SUBMIT_ERROR)},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){this.projectId=this.props.defaults.payload.projectId;var e=this.props.defaults.payload,t=new pe(Vt,e),a=new pe(na,e),n=this.props,r=n.milestones,l=n.healthIndicators,o=n.requirements,c=n.milestonesKpi,i=n.dr4Kpi,s=n.qualityKpi,u=Object(B.d)(l,"payload.statuses.current.overall"),d=Object(y.e)(u),p=a.displayOrNot("controls"),b=a.displayOrNot("quality"),_=v()(Bt.a.rqs_kpi,Bt.a.card),f=v()(Bt.a.milestones_kpi,Bt.a.card),E=v()(Bt.a.dr4_kpi,Bt.a.card),g=v()(Bt.a.quality,Bt.a.card);return m.a.createElement("div",null,m.a.createElement(h.a,{className:Bt.a.card},r.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(q,{milestones:r.payload,status:d}))),m.a.createElement(h.a,{className:Bt.a.card},m.a.createElement("h3",null,"Health"),l.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(tt,{indicators:l.payload,fieldsToRender:at,onIndicatorsSubmit:this.handleHealthIndicatorsSubmit,onCommentsSubmit:this.handleHealthCommentsSubmit,onCancel:this.handleHealthReload,blocked:p,onSubmitErrorCallback:this.onSubmitErrorHandler}))),m.a.createElement("div",{className:Bt.a.kpi_container},m.a.createElement(h.a,{className:_},m.a.createElement("h3",null,"Requirements"),o.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(Ut,{requirements:o.payload,renderHelper:t,fieldsToRender:Vt,fieldsRenderValidation:e,rqsSubmit:this.handleRqsSubmit,rqsReload:this.handleRqsReload,onSubmitErrorCallback:this.onSubmitErrorHandler}))),m.a.createElement(h.a,{className:f},m.a.createElement("h3",null,"Milestones"),c.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(Yt,{milestonesKpi:c.payload}))),m.a.createElement(h.a,{className:E},m.a.createElement("h3",null,"Project DR4 KPI"),i.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(Kt,{dr4Kpi:i.payload,fieldsToRender:Jt})))),b&&m.a.createElement(h.a,{className:g},m.a.createElement("h3",null,"Quality"),s.loading?m.a.createElement(Q.a,null):m.a.createElement(nt.a,null,m.a.createElement(ea,{projectId:this.projectId,qualityKpi:s.payload,fieldsToRender:aa,fieldsRenderValidation:e,onSubmit:this.handleQualitySubmit,onCancel:this.handleQualityReload,onSubmitErrorCallback:this.onSubmitErrorHandler}))))}}]),t}(m.a.Component),la=a(115),oa=a(67),ca=a(104),ia=a(105),sa=a(58);var ua=Object(we.b)(Object(we.c)(ra),{onMount:"loadData",onUnmount:"resetState"}),ma=Object(n.b)(function(e){return{defaults:e.pws.defaults,milestones:e.pws.milestones,healthIndicators:e.pws.healthIndicators,requirements:e.pws.indicatorsRqs,milestonesKpi:e.pws.milestonesKpi,dr4Kpi:e.pws.dr4kpi,qualityKpi:e.pws.qualityKpi}},function(e){return{healthIndicatorsSubmit:function(t,a){return e(Object(Ie.i)(t,a))},healthCommentsSubmit:function(t,a){return e(Object(Ie.g)(t,a))},healthReload:function(t){return e(Object(Ie.j)(t))},rqsSubmit:function(t,a){return e(Object(oa.i)(t,a))},rqsReload:function(t){return e(Object(oa.g)(t))},qualitySubmit:function(t,a){return e(Object(sa.j)(t,a))},qualityReload:function(t){return e(Object(sa.h)(t))},loadData:function(t){return e(Object(la.d)(t))},resetState:function(){e(Object(Se.i)()),e(Object(Ie.l)()),e(Object(oa.h)()),e(Object(ca.f)()),e(Object(ia.f)()),e(Object(sa.i)())},pushWarningToast:function(t){return e(Object(xe.g)(t))}}})(ua),da=a(965),pa=a.n(da),ba=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tableName,a=e.data,n=a.committed,r=a.realized;null==n&&(n={}),null==r&&(r={});var l=Object(y.k)(Object(y.g)(n.value)),o=Object(y.k)(Object(y.g)(r.value)),c=n.milestone,i=n.comment,s=r.milestone,u=r.comment;return m.a.createElement(d.j,{striped:!0,className:pa.a.cost_table},m.a.createElement("colgroup",null,m.a.createElement("col",{className:pa.a.effort_col}),m.a.createElement("col",{className:pa.a.value_col}),m.a.createElement("col",null)),m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,t),m.a.createElement("th",{className:pa.a.data_column},"Value (k\u20ac)"),m.a.createElement("th",null,"Comment"))),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,"Committed at ",c),m.a.createElement("td",{className:pa.a.data_column},l),m.a.createElement("td",null,m.a.createElement(W.a,{value:i}))),m.a.createElement("tr",null,m.a.createElement("td",null,"Released at ",s),m.a.createElement("td",{className:pa.a.data_column},o),m.a.createElement("td",null,m.a.createElement(W.a,{value:u})))))}}]),t}(m.a.Component);ba.defaultProps={data:{committed:{},realized:{}}};var ha=a(966),_a=a.n(ha),fa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.isFileExists,n=e.label,r=Object(_.a)(e,["onClick","isFileExists","label"]);return a?m.a.createElement(F.a,Object.assign({label:n,onClick:t,title:"Get last uploaded file"},r)):n}}]),t}(m.a.PureComponent);fa.defaultProps={onClick:function(){},label:""};var Ea={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}}},ga=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleControls=function(){a.setState(function(e){return{editMode:!e.editMode}})},a.openFileUploadDialog=function(){a.uploadRef.current.click()},a.state={editMode:!1,templateUrl:"http://www.google.com"},a.uploadRef=m.a.createRef(),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.props.cost.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));var e=this.props.cost.payload,t=e.updated,a=e.charged,n=e.capex,r=e.fileExists,l=this.props,o=l.uploadCost,c=l.getLastUploadedFile,i=this.props.defaults.payload,s=i.projectId,u=i.projectName,p=this.props.defaults.payload,b=new pe(Ea,p).displayOrNot("controls");return m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,null,m.a.createElement("div",null,m.a.createElement(fa,{label:"Last uploaded:",isFileExists:r,onClick:function(){return c(s,u)}}),m.a.createElement(N,{className:_a.a.last_updated,dateStr:t}))),m.a.createElement(h.a,null,b&&m.a.createElement("div",{className:_a.a.import_container},m.a.createElement(d.b,{text:"Import Cost File",icon:"import",onClick:this.openFileUploadDialog,intent:C.a.PRIMARY,minimal:!0})),m.a.createElement(ba,{tableName:"Manpower (charged)",data:a})),m.a.createElement(h.a,null,m.a.createElement(ba,{tableName:"CAPEX/OPEX",data:n})),m.a.createElement(h.a,null,m.a.createElement(F.a,{label:"Get template for upload",url:this.state.template})),m.a.createElement(ge,{uploadRef:this.uploadRef,onSubmit:function(e){return o(s,e)}}))}}]),t}(m.a.Component),ya=a(52);var ja=Object(we.b)(Object(we.c)(ga),{onMount:"loadData",onUnmount:"resetData"}),va=Object(n.b)(function(e){return{defaults:e.pws.defaults,cost:e.pws.costTab}},function(e){return{loadData:function(t){return e(Object(ya.i)(t))},uploadCost:function(t,a){return e(Object(ya.l)(t,a))},getLastUploadedFile:function(t,a){return e(Object(ya.h)(t,a))},resetData:function(){return e(Object(ya.k)())}}})(ja),Oa=a(967),ka=a.n(Oa),Ca=a(766),Na=a.n(Ca),Ra=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).selectElement=function(e,t){var n="".concat(a.props.rowName,".indicators.").concat(t);return m.a.createElement(ce.b,{component:"select",name:n},m.a.createElement("option",{value:""},"\xa0"),m.a.createElement("option",{value:"1"},"1"),m.a.createElement("option",{value:"5"},"5"),m.a.createElement("option",{value:"8"},"8"))},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.roleName,n=t.lastUpdatedBy,r=t.updatedOn,l=t.rowValues,o=t.comment,c=t.onClickEdit,i=t.isValuesEdit,s=t.isCommentsEdit,u=Na.a.td_style,p="".concat(this.props.rowName,".comment"),b=Object(y.d)(r),h=this.shouldShowEditButton();return m.a.createElement("tr",null,m.a.createElement("td",{className:Na.a.sticky_white},m.a.createElement("div",null,m.a.createElement("div",{className:Na.a.inline_block},h&&m.a.createElement(d.b,{minimal:!0,icon:"edit",intent:"primary",onClick:c})),m.a.createElement("div",{className:Na.a.inline_block},a))),m.a.createElement("td",{className:u},n),m.a.createElement("td",{className:u},b),Object.keys(l).map(function(t){var a=Object(y.a)(l[t]);return m.a.createElement("td",{key:t,className:u},i?e.selectElement(l[t],t):m.a.createElement(T.a,{className:Na.a.inline_block,status:a}))}),m.a.createElement("td",{className:u},s?m.a.createElement(re.c,{fill:!0,type:"textarea",name:p}):m.a.createElement(W.a,{value:o})))}},{key:"shouldShowEditButton",value:function(){return!this.props.isValuesEdit&&!this.props.isCommentsEdit&&!this.props.isControlsHidden&&!this.props.blocked}}]),t}(m.a.Component);Ra.defaultProps={lastUpdatedBy:"",updatedOn:"",className:"",onClickEdit:function(){},onChange:function(){},isValuesEdit:!1,isCommentsEdit:!1,isControlsHidden:!1,comment:"",blocked:!1};var wa={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}},title:{help:{title:"BLC Dashboard",content:"Values :<br>0 (no feedback), 1 (red), 5 (orange) and 8 (green)<br> <br> Some examples<br> Documents:<br> - info not available (either dedicated document or DR contribution) : red;<br> - almost all info available : green;<br> - one major info missing : yellow.<br> <br> Accountability (PM or PCT) :<br> - decisions are not by-passed by manager : green;<br> - decisions are cancelled by X (including by escalation) : red<br> <br> Lessons Learned: <br> - not recorded : red;<br> - recorded and taken into account : green;<br> - recorded but not taken into account : orange.<br> <br>Sales &amp; Marketing provides feedback on Business Plan and Launch Plan;<br> PMO-Quality provides feedback on Opportunity Review, Charter, Project Management Plan and Business Plan."}},pm:{label:"Program Manager"},pmo:{label:"PMO - Quality"},sales:{label:"Sales",allowedIf:{projectType:[ie.g.OFFER]}}},Da=Ze.object().shape({pm:Ze.object().shape({comment:Ze.string().max(256,ie.i.string.MAX).nullable()}),pmo:Ze.object().shape({comment:Ze.string().max(256,ie.i.string.MAX).nullable()}),sales:Ze.object().shape({comment:Ze.string().max(256,ie.i.string.MAX).nullable()})}),Sa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).submitForm=null,a.handleChange=null,a.handleCancel=function(){a.cancelEdit(),a.props.loadData(a.props.defaults.payload.projectId)},a.bindFormSubmission=function(e){a.submitForm=e},a.onClickEdit=function(e){a.setState(function(t){return Object(g.a)({},e,!t[e])})},a.onClickCommentsEdit=function(){a.setState({isCommentsEdit:!0})},a.cancelEdit=function(){a.setState({isPmRow:!1,isPmoRow:!1,isSalesRow:!1,isCommentsEdit:!1})},a.getRowToSaveValue=function(){return a.state.isPmRow?"pm":a.state.isPmoRow?"pmo":a.state.isSalesRow?"sales":void 0},a.renderBlcTab=function(e){var t=ka.a.column_align_center,n=v()(ka.a.column_align_center),r=a.renderHelper.displayOrNot("controls"),l=a.renderHelper.getHelpObject("title"),o=e.values,c=o.pm,i=o.pmo,s=o.sales;return m.a.createElement("div",{className:ka.a.relative_wrapper},m.a.createElement(d.B,{position:ue.a.TOP,content:m.a.createElement(Je,{title:l.title,content:l.content})},m.a.createElement(ze,{className:ka.a.help_icon})),m.a.createElement("div",{className:ka.a.overflow_wrapper},m.a.createElement(d.j,{bordered:!0,striped:!0,className:ka.a.blc_table},a.renderColGroup(),a.renderHeader(t,n,r),m.a.createElement("tbody",null,m.a.createElement(Ra,{rowName:ie.a.PM,roleName:a.renderHelper.getLabelById(ie.a.PM),lastUpdatedBy:c.csl,updatedOn:c.updatedOn,rowValues:c.indicators,comment:c.comment,onClickEdit:function(){return a.onClickEdit("isPmRow")},onChange:a.handleChange,isValuesEdit:a.state.isPmRow,isCommentsEdit:a.state.isCommentsEdit,isControlsHidden:a.isInEditMode(),blocked:!r}),m.a.createElement(Ra,{rowName:ie.a.PMO,roleName:a.renderHelper.getLabelById(ie.a.PMO),lastUpdatedBy:i.csl,updatedOn:i.updatedOn,rowValues:i.indicators,comment:i.comment,onClickEdit:function(){return a.onClickEdit("isPmoRow")},onChange:a.handleChange,isValuesEdit:a.state.isPmoRow,isCommentsEdit:a.state.isCommentsEdit,isControlsHidden:a.isInEditMode(),blocked:!r}),a.renderHelper.displayOrNot(ie.a.SALES)&&m.a.createElement(Ra,{rowName:ie.a.SALES,roleName:a.renderHelper.getLabelById(ie.a.SALES),lastUpdatedBy:s.csl,updatedOn:s.updatedOn,rowValues:s.indicators,comment:s.comment,onClickEdit:function(){return a.onClickEdit("isSalesRow")},onChange:a.handleChange,isValuesEdit:a.state.isSalesRow,isCommentsEdit:a.state.isCommentsEdit,isControlsHidden:a.isInEditMode(),blocked:!r})))),m.a.createElement(et.a,{callback:a.handleSubmitWithErrors}))},a.renderColGroup=function(){return m.a.createElement("colgroup",null,m.a.createElement("col",{className:ka.a.role_col}),m.a.createElement("col",{className:ka.a.who_col}),m.a.createElement("col",{className:ka.a.updated_col}),m.a.createElement("col",{className:ka.a.or_col}),m.a.createElement("col",{className:ka.a.charter_col}),m.a.createElement("col",{className:ka.a.proj_plan_col}),m.a.createElement("col",{className:ka.a.tailoring_col}),m.a.createElement("col",{className:ka.a.prog_mgr_col}),m.a.createElement("col",{className:ka.a.core_col}),m.a.createElement("col",{className:ka.a.bp_plan_col}),m.a.createElement("col",{className:ka.a.bp_sales}),m.a.createElement("col",{className:ka.a.lp_plan}),m.a.createElement("col",{className:ka.a.lp_sales}),m.a.createElement("col",{className:ka.a.les_learned}),m.a.createElement("col",{className:ka.a.risks_col}),m.a.createElement("col",{className:ka.a.comment}))},a.renderHeader=function(e,t,n){var r=a.shouldShowEditButton()&&n,l=v()(e,Na.a.sticky_white);return m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:l,rowSpan:2},"Role"),m.a.createElement("th",{className:e,rowSpan:2},"Who"),m.a.createElement("th",{className:e,rowSpan:2},"Updated On"),m.a.createElement("th",{className:e,rowSpan:2},"Opportunity Review"),m.a.createElement("th",{className:e,rowSpan:2},"Charter"),m.a.createElement("th",{className:e,rowSpan:2},"Project Plan"),m.a.createElement("th",{className:e,rowSpan:2},"Tailoring"),m.a.createElement("th",{className:e,colSpan:2},"Accountability"),m.a.createElement("th",{className:e,colSpan:2},"Business Plan"),m.a.createElement("th",{className:e,colSpan:2},"Launch Plan"),m.a.createElement("th",{className:e,rowSpan:2},"Lessons Learned"),m.a.createElement("th",{className:e,rowSpan:2},"Risks"),m.a.createElement("th",{className:t,rowSpan:2},m.a.createElement("div",null,m.a.createElement("div",{className:Na.a.inline_block},r&&m.a.createElement(d.b,{minimal:!0,icon:"edit",intent:"primary",onClick:a.onClickCommentsEdit})),m.a.createElement("div",{className:Na.a.inline_block},"Comments")))),m.a.createElement("tr",null,m.a.createElement("th",{className:e},"Program Mgr"),m.a.createElement("th",{className:e},"Core team members"),m.a.createElement("th",{className:e},"Plan"),m.a.createElement("th",{className:e},"Sales Buy-in"),m.a.createElement("th",{className:e},"Plan"),m.a.createElement("th",{className:e},"Sales Buy-in")))},a.isInEditMode=function(){return a.state.isPmRow||a.state.isPmoRow||a.state.isSalesRow||a.state.isCommentsEdit},a.handleSubmitWithErrors=function(e){e.isValid||a.props.pushWarningToast(ie.d.FORM_SUBMIT_ERROR)},a.state={isPmRow:!1,isPmoRow:!1,isSalesRow:!1,isCommentsEdit:!1},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.blcTab.loading)return m.a.createElement(Q.a,null);this.projectId=this.props.defaults.payload.projectId;var t=this.props.defaults.payload;this.renderHelper=new pe(wa,t);var a=this.props.blcTab.payload,n=a.pm,r=a.pmo,l=a.sales,o=a.rowToSave,c=this.shouldShowSubmitCancel(),i=this.renderHelper.displayOrNot("controls");return m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,null,i&&m.a.createElement(d.b,{intent:C.a.SUCCESS,className:v()(ve.a.MINIMAL,ka.a.publish_btn),icon:"upload",text:"Publish Dashboard"}),m.a.createElement(ce.f,{isInitialValid:!0,enableReinitialize:!0,onSubmit:function(t,a){a.setSubmitting(!1),t.rowToSave=e.getRowToSaveValue();var n=e.props,r=n.saveComments,l=n.saveIndicators;e.state.isCommentsEdit?r(e.projectId,t):l(e.projectId,t),e.cancelEdit()},initialValues:{pm:n,pmo:r,sales:l,rowToSave:o},validationSchema:Da,render:function(t){return e.bindFormSubmission(t.submitForm),e.handleChange=Object(B.b)(t),e.renderBlcTab(t)}})),c&&m.a.createElement(ne,{editMode:!0,onCancel:this.handleCancel,onSubmit:this.submitForm,className:ka.a.controls}))}},{key:"shouldShowSubmitCancel",value:function(){return this.shouldShowEditControls()&&this.renderHelper.displayOrNot("controls")}},{key:"shouldShowEditControls",value:function(){return this.state.isPmoRow||this.state.isPmRow||this.state.isSalesRow||this.state.isCommentsEdit}},{key:"shouldShowEditButton",value:function(){return!this.state.isPmRow&&!this.state.isPmoRow&&!this.state.isSalesRow&&!this.state.isCommentsEdit}}]),t}(m.a.Component),Ia=a(51);var Ma=Object(we.b)(Object(we.c)(Sa),{onMount:"loadData",onUnmount:"resetData"}),xa=Object(n.b)(function(e){return{defaults:e.pws.defaults,blcTab:e.pws.blcTab}},function(e){return{loadData:function(t){return e(Object(Ia.j)(t))},resetData:function(){return e(Object(Ia.l)())},saveIndicators:function(t,a){return e(Object(Ia.i)(t,a))},saveComments:function(t,a){return e(Object(Ia.g)(t,a))},pushWarningToast:function(t){return e(Object(xe.g)(t))}}})(Ma),Ta=a(29),Pa=a(689),Aa=a(125),Fa=[{id:"impact",headerName:"Impact",style:{header:{width:"70px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"probability",headerName:"Probability",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.g},{id:"rating",headerName:"Rating",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.e},{id:"previous",headerName:"Previous",style:{header:{width:"80px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"initial",headerName:"Initial",style:{header:{width:"70px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"riskDisplayId",headerName:"Risk ID",style:{header:{width:"80px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.c},{id:"riskDescription",headerName:"Risk Description",style:{header:{width:"300px"},column:{wordBreak:"break-word"}},searchType:"input",decorator:function(e){var t=Object(Aa.c)(e);return Object(Aa.f)(t)}},{id:"impactDescription",headerName:"Impact Description",style:{header:{width:"300px"},column:{wordBreak:"break-word"}},searchType:"input",decorator:function(e){var t=Object(Aa.c)(e);return Object(Aa.f)(t)}},{id:"businessImpact",headerName:"Business Impact",style:{header:{width:"300px"},column:{wordBreak:"break-word"}},searchType:"input",decorator:function(e){var t=Object(Aa.c)(e);return Object(Aa.f)(t)}},{id:"riskResponse",headerName:"Risk Response",style:{header:{width:"100px"}},searchType:"input",decorator:function(e){var t=Object(Aa.c)(e);return Object(Aa.f)(t)}},{id:"mitigation",headerName:"Mitigation Plan Description",style:{header:{width:"300px"}},searchType:"input",decorator:function(e){var t=Object(Aa.c)(e);return Object(Aa.f)(t)}},{id:"decisionDate",headerName:"Decision Date",style:{header:{width:"120px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.b},{id:"estimatedCost",headerName:"Estimated Cost",style:{header:{width:"125px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"provisionBudget",headerName:"Provision for budget",style:{header:{width:"130px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"responsible",headerName:"Responsible",style:{header:{width:"120px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"target",headerName:"Target (Plan)",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.b},{id:"done",headerName:"Done (Do)",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.b},{id:"result",headerName:"Result (Check, Act)",style:{header:{width:"120px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.b},{id:"updatedOn",headerName:"Updated On",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"multiselect",decorator:Aa.b},{id:"updatedBy",headerName:"Updated By",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"input",decorator:Aa.c},{id:"report",headerName:"Report",style:{header:{width:"90px"},column:{textAlign:"center"}},searchType:"multiselect",inputType:"checkbox",editable:!0,decorator:function(e){return Object(y.b)(e)}}],Ba=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onEdit,a=Object(_.a)(e,["onEdit"]);return m.a.createElement(d.m,a,m.a.createElement(d.n,{icon:"edit",text:"Edit 'Reported' flag",onClick:t}))}}]),t}(m.a.PureComponent),qa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onExcelExport,a=e.onExcelImport;return m.a.createElement(m.a.Fragment,null,t&&m.a.createElement(d.b,{text:"Export to Excel",icon:"export",onClick:t,intent:C.a.PRIMARY,minimal:!0}),a&&m.a.createElement(d.b,{text:"Import Excel",icon:"import",onClick:a,intent:C.a.PRIMARY,minimal:!0}))}}]),t}(m.a.PureComponent),La=a(976),Ua=a(975),Ha=a.n(Ua),Va=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cellIndex,a=e.rowIndex,n=e.message,r=t+1,l=a+1;return m.a.createElement("div",{className:Ha.a.error_margin},m.a.createElement("b",null,"Column:")," ",r,". ",m.a.createElement("b",null,"Row:")," ",l,". ",m.a.createElement("br",null),m.a.createElement("b",null,"Error:")," ",n)}}]),t}(m.a.PureComponent),Xa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onClose,n=e.errors;return m.a.createElement(d.g,{isOpen:t,title:"Warning",icon:m.a.createElement(d.k,{icon:"warning-sign",intent:La.Intent.WARNING}),onClose:a},m.a.createElement("div",{className:ve.a.DIALOG_BODY},"Excel file uploaded with following errors:",m.a.createElement("ul",null,n.map(function(e,t){return m.a.createElement("li",{key:t},m.a.createElement(Va,e))}))))}}]),t}(m.a.PureComponent);Xa.defaultProps={errors:[]};var Wa=a(977),Ya=a.n(Wa),za={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}}},Ga=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).getContextMenu=function(e){return e.displayOrNot("controls")?function(e){return m.a.createElement(Ba,{onEdit:e.editRow})}:null},a.getTableFooter=function(e){var t=a.props.downloadRisks,n=a.props.defaults.payload.projectName,r={onExcelExport:function(){return t(a.projectId,n)}};return e.displayOrNot("controls")&&(r.onExcelImport=a.openFileUploadDialog),function(){return m.a.createElement(qa,r)}},a.openFileUploadDialog=function(){a.uploadRef.current.click()},a.handleSaveRisks=function(e){a.props.saveRisk(a.projectId,e)},a.state={file:null,url:"http://google.com"},a.uploadRef=m.a.createRef(),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.risks.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));var t=this.props.risks,a=t.payload,n=t.errorListShowed,r=this.props,l=r.uploadRisksFile,o=r.setErrorsShowedTrue,c=r.getLastUploadedFile;this.projectId=this.props.defaults.payload.projectId;var i=this.props.defaults.payload.projectName,s=this.props.defaults.payload,u=new pe(za,s),d=this.props.risks.errors,p=Object(B.a)(a.risks),b=!n&&!!d;return m.a.createElement("div",{className:Ya.a.container},m.a.createElement(h.a,null,m.a.createElement("div",{className:Ya.a.last_updated_container},m.a.createElement(fa,{isFileExists:a.fileExists,onClick:function(){return c(e.projectId,i)},label:"Last uploaded:"}),m.a.createElement(N,{className:Ya.a.last_updated,dateStr:a.lastUploaded}))),m.a.createElement(h.a,{className:Ya.a.table_container},m.a.createElement(Pa.a,{data:a.risks,columns:Fa,filterValues:p,onSubmit:this.handleSaveRisks,striped:!0,interactive:!0,bordered:!0,editable:!0,contextMenu:this.getContextMenu(u),renderFooter:this.getTableFooter(u)}),m.a.createElement(ge,{uploadRef:this.uploadRef,onSubmit:function(t){return l(e.projectId,t)}}),m.a.createElement(Xa,{isOpen:b,onClose:o,errors:d})),m.a.createElement(h.a,null,m.a.createElement(F.a,{label:"Get template for upload",url:this.state.url})))}}]),t}(m.a.Component);var Ka=Object(we.b)(Object(we.c)(Ga),{onMount:"loadData",onUnmount:"resetData"}),Qa=Object(n.b)(function(e){return{defaults:e.pws.defaults,risks:e.pws.risks.tab}},function(e){return{loadData:function(t){return e(Object(Ta.m)(t))},resetData:function(){return e(Object(Ta.o)())},saveRisk:function(t,a){return e(Object(Ta.r)(t,a))},uploadRisksFile:function(t,a){return e(Object(Ta.t)(t,a))},downloadRisks:function(t,a){return e(Object(Ta.k)(t,a))},getLastUploadedFile:function(t,a){return e(Object(Ta.l)(t,a))},setErrorsShowedTrue:function(){return e(Object(Ta.s)())}}})(Ka),Ja=a(35),Za=[{id:"registry",headerName:"Registry Type",editable:!0,style:{header:{width:80}},searchType:"multiselect",inputType:"select",selectValues:[{value:"",label:""},{value:"ACTION",label:"Action"},{value:"INFORMATIONAL",label:"Informational"},{value:"DECISION",label:"Decision"}]},{id:"uid",headerName:"Unique ID",style:{header:{width:80}},searchType:"multiselect"},{id:"title",headerName:"Title",editable:!0,inputType:"text",style:{header:{width:150}},searchType:"multiselect"},{id:"state",headerName:"State",editable:!0,style:{header:{width:80}},searchType:"multiselect",inputType:"select",selectValues:[{value:"",label:""},{value:"ACTIVE",label:"Active"},{value:"POSTPONED",label:"Postponed"},{value:"CLOSED",label:"Closed"},{value:"NOT_OCCUR",label:"Did not occur"}]},{id:"priority",headerName:"Priority",editable:!0,style:{header:{width:80}},searchType:"multiselect",inputType:"select",selectValues:[{value:"",label:""},{value:"HIGH",label:"High"},{value:"MEDIUM",label:"Medium"},{value:"LOW",label:"Low"}]},{id:"owner",headerName:"Owner",editable:!0,style:{header:{width:150}},searchType:"multiselect",inputType:"text"},{id:"optionalInfo",headerName:"Optional Information",editable:!0,style:{header:{width:260}},inputType:"textarea",searchType:"input",decorator:Aa.f},{id:"dueDate",headerName:"Due Date",editable:!0,style:{header:{width:90}},searchType:"multiselect",inputType:"date",decorator:Aa.b},{id:"description",headerName:"Detailed Description",editable:!0,style:{header:{width:250}},inputType:"textarea",searchType:"input",decorator:Aa.f},{id:"status",headerName:"Status updates and Resolution Description",editable:!0,style:{header:{width:250}},inputType:"textarea",searchType:"input",decorator:Aa.f},{id:"createdDate",headerName:"Created Date",style:{header:{width:90}},searchType:"multiselect",decorator:Aa.b},{id:"closedDate",headerName:"Closed Date",style:{header:{width:90}},searchType:"multiselect",decorator:Aa.b},{id:"relatedRisks",headerName:"Related Risks",editable:!0,style:{header:{width:80}},searchType:"input",inputType:"multiselect",decorator:Aa.a}];function $a(e){var t=e.onRefresh,a=e.onAdd,n=e.onExport,r=e.fileExporting,l=Object(_.a)(e,["onRefresh","onAdd","onExport","fileExporting"]);return m.a.createElement("div",l,t&&m.a.createElement(d.b,{minimal:!0,large:!0,icon:"refresh",intent:C.a.PRIMARY,onClick:t}),a&&m.a.createElement(d.b,{minimal:!0,large:!0,icon:"add",intent:C.a.PRIMARY,onClick:a}),n&&m.a.createElement(d.b,{loading:r,text:"Export to Excel",icon:"export",onClick:n,intent:C.a.PRIMARY,minimal:!0}))}var en=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onEdit,a=e.onDelete,n=Object(_.a)(e,["onEdit","onDelete"]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.m,n,m.a.createElement(d.n,{icon:"edit",text:"Edit action",onClick:t}),m.a.createElement(d.n,{icon:"delete",intent:C.a.DANGER,text:"Delete action",onClick:a})))}}]),t}(m.a.PureComponent),tn=Ze.object().shape({registry:Ze.string().required(ie.i.REQUIRED),title:Ze.string().max(255,ie.i.string.MAX).required(ie.i.REQUIRED),owner:Ze.string().max(255,ie.i.string.MAX),state:Ze.string().required(ie.i.REQUIRED),priority:Ze.string().required(ie.i.REQUIRED)}),an={controls:{notAllowedIf:{workspaceStatus:[ie.j.DISABLED]}}},nn=a(978),rn=a.n(nn),ln=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).getTableFooter=function(e){var t=e.displayOrNot("controls"),n={onRefresh:a.handleLoadData,onExport:a.handleExportActions,fileExporting:a.props.actions.fileExport};return function(e){return t&&(n.onAdd=e.dialogOpen),m.a.createElement($a,n)}},a.toggleConfirmDialog=function(e){a.setState({currentActionUid:e}),a.setState(function(e){return{isDialogOpen:!e.isDialogOpen}})},a.getContextMenu=function(e){return e.displayOrNot("controls")?function(e){return m.a.createElement(en,{onEdit:e.editRow,onDelete:function(){return a.toggleConfirmDialog(e.getRow().uid)}})}:null},a.handleSaveAction=function(e){""===e.relatedRisks&&(e.relatedRisks=[]),a.props.saveAction(a.projectId,e)},a.handleDeleteAction=function(e){a.props.deleteAction(a.projectId,e),a.toggleConfirmDialog()},a.handleExportActions=function(){var e=a.props.defaults.payload,t=e.projectId,n=e.projectName;a.props.exportActions(t,n)},a.handleLoadData=function(){a.props.loadData(a.projectId)},a.state={currentActionUid:-1,isDialogOpen:!1},a.onSubmitErrorHandler=function(){return a.props.pushWarningToast(ie.d.FORM_SUBMIT_ERROR)},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.actions.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));this.projectId=this.props.defaults.payload.projectId;var t=this.props.defaults.payload,a=new pe(an,t),n=this.props.actions.payload,r=Object(B.a)(n),l={relatedRisks:this.getDynamicInputRisks()};return m.a.createElement(h.a,{className:rn.a.table_container},m.a.createElement(Pa.a,{data:n,columns:Za,filterValues:r,editDynamicInputVals:l,onSubmit:this.handleSaveAction,editable:!0,striped:!0,interactive:!0,bordered:!0,validationSchema:tn,contextMenu:this.getContextMenu(a),renderFooter:this.getTableFooter(a),onSubmitErrorCallback:this.onSubmitErrorHandler}),m.a.createElement(Oe,{isOpen:this.state.isDialogOpen,onClose:this.toggleConfirmDialog,title:"Deletion confirmation",icon:m.a.createElement(d.k,{icon:"warning-sign",intent:C.a.DANGER}),body:"It is a permanent operation. You will not be able to restore deleted action.",onConfirm:function(){return e.handleDeleteAction(e.state.currentActionUid)},onCancel:this.toggleConfirmDialog,confirmLabel:"Delete"}))}},{key:"getDynamicInputRisks",value:function(){var e=this.props.relatedRisks.payload;return void 0!==e?e.map(function(e){return{value:e,label:"".concat(e)}}):[]}}]),t}(m.a.Component),on=a(85);var cn=Object(we.b)(Object(we.c)(ln),{onMount:"loadData",onUnmount:"resetData"}),sn=Object(n.b)(function(e){return{defaults:e.pws.defaults,actions:e.pws.actions,relatedRisks:e.pws.risks.related}},function(e){return{saveAction:function(t,a){e(Object(Ja.j)(t,a))},deleteAction:function(t,a){e(Object(Ja.i)(t,a))},exportActions:function(t,a){e(Object(Ja.l)(t,a))},loadData:function(t){e(Object(Ja.n)(t)),e(Object(on.e)(t))},resetData:function(){e(Object(Ja.p)()),e(Object(on.h)())},pushWarningToast:function(t){return e(Object(xe.g)(t))}}})(cn),un=[{id:"reqId",headerName:"Req-Id",searchType:"input",style:{column:{maxWidth:"100px"},header:{maxWidth:"100px"}},decorator:function(e){var t="http://www.jira.com/".concat(e);return m.a.createElement(F.a,{url:t,label:e})}},{id:"headline",headerName:"Headline",searchType:"input",style:{column:{width:"300px"},header:{width:"300px"}}},{id:"priority",headerName:"Priority",searchType:"input"},{id:"status",headerName:"Status",searchType:"input"},{id:"fixVersions",headerName:"Fix versions",searchType:"input",decorator:Aa.a},{id:"components",headerName:"Components",searchType:"input",style:{column:{width:"300px"},header:{width:"300px"}}}],mn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onRefresh,a=Object(_.a)(e,["onRefresh"]);return m.a.createElement("div",a,m.a.createElement(d.b,{minimal:!0,large:!0,icon:"refresh",intent:C.a.PRIMARY,onClick:t}))}}]),t}(m.a.PureComponent),dn=a(979),pn=a.n(dn),bn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleLoadData=function(){a.props.loadData(a.projectId)},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.rqs.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));this.projectId=this.props.defaults.payload.projectId;var t=this.props.rqs.payload;return m.a.createElement(h.a,{className:pn.a.table_container},m.a.createElement(Pa.a,{striped:!0,interactive:!0,bordered:!0,noDataMessage:"No data found. Check 'Requirements(JIRA)' and 'RQ Release Name(JIRA)' fields",data:t,columns:un,renderFooter:function(){return m.a.createElement(mn,{onRefresh:e.handleLoadData})}}))}}]),t}(m.a.Component);var hn=Object(we.b)(Object(we.c)(bn),{onMount:"loadData",onUnmount:"resetData"}),_n=Object(n.b)(function(e){return{defaults:e.pws.defaults,rqs:e.pws.requirementsTab}},function(e){return{loadData:function(t){return e(Object(Ne.f)(t))},resetData:function(){return e(Object(Ne.h)())}}})(hn),fn=a(86),En=a(768),gn=a.n(En),yn=(a(980),a(986)),jn=a.n(yn),vn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).chartRef=m.a.createRef(),a.barChart=null,a.onChange=null,a.state={shouldChartUpdate:!0},a.handleChange=a.handleChange.bind(Object(I.a)(a)),a.onChange=a.handleChange(),a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadChart()}},{key:"componentDidUpdate",value:function(e,t,a){this.loadChart()}},{key:"render",value:function(){var e,t,a=this.props.data.labels;if(a){var n=this.props.data.labels;e=[0,this.getMaxFromLabels(n)],t=n.length||1}else e=[0,0],t=1;var r=this.props.className,l=this.state.range||e,o=e[0],c=e[1];return m.a.createElement("div",{className:r},m.a.createElement("canvas",{id:"myChart",className:jn.a.canvas,ref:this.chartRef}),m.a.createElement(d.u,{min:o,max:c,stepSize:1,labelRenderer:function(e){return a?a[e]:0},labelStepSize:t,onChange:this.onChange,value:l}))}},{key:"getMaxFromLabels",value:function(e){return e&&e.length&&e.length>0?e.length-1:1}},{key:"loadChart",value:function(){if(this.state.shouldChartUpdate){this.barChart&&this.barChart.destroy();var e=this.filterData(this.props.data);this.filtered=e,this.createChart(e)}}},{key:"createChart",value:function(e){var t=this.chartRef.current.getContext("2d"),a=this.props.data.target;this.barChart=new gn.a(t,{type:"bar",data:{labels:e.labels,datasets:[{label:"New",backgroundColor:"red",data:e.newIssues,stack:"1"},{label:"Development",backgroundColor:"orange",data:e.dev,stack:"1"},{label:"QA",backgroundColor:"yellow",data:e.qa,stack:"1"},{label:"QA-done",backgroundColor:"brown",data:e.qaDone,stack:"1"},{label:"IN",backgroundColor:"violet",data:e.in,stack:"2"},{label:"OUT",backgroundColor:"green",data:e.out,stack:"3"}]},options:{scales:{yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Number of CRs (severity ECMA)"}}],xAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Week \u201cyyww\u201d"}}]},annotation:this.getAnnotationConfig(a)}})}},{key:"getAnnotationConfig",value:function(e){return e?{annotations:[{type:"line",mode:"horizontal",scaleID:"y-axis-0",value:e.value,borderColor:"rgb(75, 192, 192)",borderWidth:4,label:{enabled:!0,content:e.milestone}}]}:null}},{key:"handleChange",value:function(){var e,t=this;return function(a){t.setState({shouldChartUpdate:!1}),t.setState({range:a}),clearTimeout(e),e=setTimeout(function(){return t.setState({shouldChartUpdate:!0})},300)}}},{key:"filterData",value:function(e){var t=this.state.range;if(!t)return e;var a=t[0],n=t[1],r={};return r.dev=e.dev.slice(a,n+1),r.in=e.in.slice(a,n+1),r.newIssues=e.newIssues.slice(a,n+1),r.out=e.out.slice(a,n+1),r.qa=e.qa.slice(a,n+1),r.qaDone=e.qaDone.slice(a,n+1),r.labels=e.labels.slice(a,n+1),r}}]),t}(m.a.Component);vn.defaultProps={className:""};var On=a(987),kn=a.n(On),Cn=a(988),Nn=a.n(Cn),Rn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.message;return m.a.createElement("div",{className:Nn.a.status_container},m.a.createElement("div",{className:Nn.a.container},m.a.createElement(d.k,{icon:"search",iconSize:35,intent:C.a.PRIMARY,className:Nn.a.icon}),m.a.createElement(P.a,{name:e,className:Nn.a.field_name})))}}]),t}(m.a.PureComponent);Rn.defaultProps={message:"No data found"};var wn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).getFooter=function(e){var t=a.props,n=t.onUpdate,r=t.blocked,l=t.onCurrentClick,o=v()(Object(g.a)({},kn.a.float_right,!r),kn.a.inline_block),c=r?"Last week":"Current week";return m.a.createElement("div",null,r||m.a.createElement("div",{className:kn.a.inline_block},m.a.createElement(d.b,{minimal:!0,icon:"refresh",intent:C.a.PRIMARY,text:"Update Grid",onClick:n})),e&&m.a.createElement("div",{className:o},m.a.createElement(d.b,{minimal:!0,icon:"download",intent:C.a.PRIMARY,text:c,onClick:l})))},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data,t=this.props,a=t.updatedOn,n=t.header,r=t.tooltip,l=this.isDataExists(e);return m.a.createElement("div",{className:kn.a.card_container},m.a.createElement("div",{className:kn.a.header_container},m.a.createElement("h4",{className:kn.a.center},n),m.a.createElement(d.B,{position:ue.a.BOTTOM,content:r},m.a.createElement(ze,{className:kn.a.tooltip}))),this.renderChartZone(e,l),m.a.createElement(R,{date:a,className:kn.a.updated_block}),this.getFooter())}},{key:"renderChartZone",value:function(e,t){if(t)return m.a.createElement(vn,{data:e,className:kn.a.chart_container});return m.a.createElement("div",{className:kn.a.no_data_container},m.a.createElement(Rn,{message:"No data found. Update grid or check 'Metrics Scope' value on 'Information' tab"}))}},{key:"isDataExists",value:function(e){var t=!1;return Object.keys(e).forEach(function(a){e[a]&&e[a].length&&e[a].length>0&&(t=!0)}),t}}]),t}(m.a.Component);wn.defaultProps={updatedOn:"",tooltip:m.a.createElement(Je,{title:"",content:""}),blocked:!1};var Dn={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}},title:{help:{title:"Defects backlog (ecma)",content:"This indicator represents the remaining work i.e. the \u2018to be closed\u2019 defects; reports are included; CRs that are targeted on \u201cMDs\u201d are included when project is a Maintenance project<br/>Information TAB provides the target (milestone and value) as well as the Metrics' scope"}}},Sn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.props.backlog.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));var e=this.props.defaults.payload,t=new pe(Dn,e),a=this.props.backlog.payload,n=a.updatedOn,r=Object(_.a)(a,["updatedOn"]),l=!t.displayOrNot("controls"),o=t.getHelpObject("title");return m.a.createElement(h.a,null,m.a.createElement(wn,{data:r,header:"Defects backlog (ECMA CRs)",onUpdate:function(){return alert("Updated")},onCurrentClick:function(){return alert("Current week")},updatedOn:n,tooltip:m.a.createElement(Je,{title:o.title,content:o.content}),blocked:l}))}}]),t}(m.a.Component);var In=Object(we.b)(Object(we.c)(Sn),{onMount:"loadData",onUnmount:"resetData"}),Mn=Object(n.b)(function(e){return{defaults:e.pws.defaults,backlog:e.pws.backlogTab}},function(e){return{loadData:function(t){return e(Object(fn.f)(t))},resetData:function(){return e(Object(fn.h)())}}})(In),xn={controls:{allowedIf:{workspaceStatus:[ie.j.ENABLED]}},title:{help:{title:"New Open Defects (ecma CRs)",content:"This indicator is part of the quality of the product, i.e. the defects submitted on this project (see \u2018metrics scope\u2019 in Info TAB); reports are not included; for \u2018OT\u2019, related component CRs are included"}}},Tn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.props.defects.loading)return m.a.createElement(h.a,null,m.a.createElement(Q.a,null));var e=this.props.defects.payload,t=this.props.defaults.payload,a=new pe(xn,t),n=e.updatedOn,r=Object(_.a)(e,["updatedOn"]),l=a.getHelpObject("title"),o=!a.displayOrNot("controls");return m.a.createElement(h.a,null,m.a.createElement(wn,{data:r,header:"New Open Defects (ECMA CRs)",onUpdate:function(){return alert("Updated")},onCurrentClick:function(){return alert("Current week")},updatedOn:n,tooltip:m.a.createElement(Je,{title:l.title,content:l.content}),blocked:o}))}}]),t}(m.a.Component),Pn=a(87);var An,Fn=Object(we.b)(Object(we.c)(Tn),{onMount:"loadData",onUnmount:"resetData"}),Bn=Object(n.b)(function(e){return{defaults:e.pws.defaults,defects:e.pws.defectsTab}},function(e){return{loadData:function(t){return e(Object(Pn.f)(t))},resetData:function(){return e(Object(Pn.h)())}}})(Fn),qn=a(291),Ln=a(210),Un=a(989),Hn=a.n(Un),Vn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=Object(_.a)(e,["id"]),n=this.getErrorMessage(t);return m.a.createElement("div",Object.assign({className:Hn.a.wrapper},a),m.a.createElement(d.k,{icon:"inbox-search",iconSize:100,intent:C.a.PRIMARY,className:Hn.a.icon_style}),n)}},{key:"getErrorMessage",value:function(e){return e?"Project with id ".concat(e," - not found"):"Project not found"}}]),t}(m.a.PureComponent),Xn=(An={},Object(g.a)(An,ie.e.SUMMARY,{}),Object(g.a)(An,ie.e.INDICATORS,{}),Object(g.a)(An,ie.e.INFORMATION,{}),Object(g.a)(An,ie.e.ACTIONS,{allowedIf:{projectDivision:["NBD"]}}),Object(g.a)(An,ie.e.RISKS,{}),Object(g.a)(An,ie.e.COST,{}),Object(g.a)(An,ie.e.REPORT,{}),Object(g.a)(An,ie.e.REQUIREMENTS,{notAllowedIf:{projectType:[ie.g.OFFER]}}),Object(g.a)(An,ie.e.BACKLOG,{notAllowedIf:{projectType:[ie.g.OFFER]}}),Object(g.a)(An,ie.e.DEFECTS,{notAllowedIf:{projectType:[ie.g.OFFER]}}),Object(g.a)(An,ie.e.BLC,{notAllowedIf:{projectType:[ie.g.RD_PRODUCT]}}),An),Wn=(a(990),a(991)),Yn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).onChange=function(e){return a.setState({selectedId:e})},a.state={selectedId:"",defaults:{defaultSelectedTab:ie.e.SUMMARY,defaultTabNames:a.getDefaultTabNames()}},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.projectId=Number(Object(B.g)("projectId")),this.props.loadData(this.projectId)}},{key:"componentWillUnmount",value:function(){this.props.resetData()}},{key:"render",value:function(){var e=this.props.defaults,t=e.loading,a=e.error;if(t)return m.a.createElement(Ln.a,null,m.a.createElement(qn.a,null));if(a)return m.a.createElement(Vn,{id:this.projectId});this.renderFieldHelper=new pe(Xn,this.props.defaults.payload);var n=this.getActiveTabName(),r=this.props.defaults.payload,l=r.projectName,o=r.requirementsUrl,c=r.metricsScope,i=this.state.selectedId||n;return m.a.createElement(m.a.Fragment,null,m.a.createElement(Wn.a,null,m.a.createElement("title",null,l)),m.a.createElement("div",{className:Be.a.pws_container},m.a.createElement("h1",null,"Project ",l),m.a.createElement(d.x,{id:"pws_tabs",large:!0,renderActiveTabPanelOnly:!0,selectedTabId:i,className:Be.a.tabs,onChange:this.onChange},this.renderFieldHelper.displayOrNot(ie.e.SUMMARY)&&m.a.createElement(d.w,{id:ie.e.SUMMARY,title:"Summary",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(jt,{tabId:ie.e.SUMMARY}))}),this.renderFieldHelper.displayOrNot(ie.e.INDICATORS)&&m.a.createElement(d.w,{id:ie.e.INDICATORS,title:"Indicators",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(ma,{tabId:ie.e.INDICATORS}))}),this.renderFieldHelper.displayOrNot(ie.e.INFORMATION)&&m.a.createElement(d.w,{id:ie.e.INFORMATION,title:"Information",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(At,{tabId:ie.e.INFORMATION}))}),this.renderFieldHelper.displayOrNot(ie.e.ACTIONS)&&m.a.createElement(d.w,{id:ie.e.ACTIONS,title:"Actions",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(sn,{tabId:ie.e.ACTIONS}))}),this.renderFieldHelper.displayOrNot(ie.e.RISKS)&&m.a.createElement(d.w,{id:ie.e.RISKS,title:"Risks",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(Qa,{tabId:ie.e.RISKS}))}),this.renderFieldHelper.displayOrNot(ie.e.COST)&&m.a.createElement(d.w,{id:ie.e.COST,title:"Cost",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(va,{tabId:ie.e.COST}))}),this.renderFieldHelper.displayOrNot(ie.e.REPORT)&&m.a.createElement(d.w,{id:ie.e.REPORT,title:"Report",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(Ae,{tabId:ie.e.REPORT}))}),this.renderFieldHelper.displayOrNot(ie.e.REQUIREMENTS)&&m.a.createElement(d.w,{id:ie.e.REQUIREMENTS,title:"Requirements",className:Be.a.tab_container,disabled:!o,panel:m.a.createElement(nt.a,null,m.a.createElement(_n,{tabId:ie.e.REQUIREMENTS}))}),this.renderFieldHelper.displayOrNot(ie.e.BACKLOG)&&m.a.createElement(d.w,{id:ie.e.BACKLOG,title:"Backlog",className:Be.a.tab_container,disabled:!c,panel:m.a.createElement(nt.a,null,m.a.createElement(Mn,{tabId:ie.e.BACKLOG}))}),this.renderFieldHelper.displayOrNot(ie.e.DEFECTS)&&m.a.createElement(d.w,{id:ie.e.DEFECTS,title:"Defects",className:Be.a.tab_container,disabled:!c,panel:m.a.createElement(nt.a,null,m.a.createElement(Bn,{tabId:ie.e.DEFECTS}))}),this.renderFieldHelper.displayOrNot(ie.e.BLC)&&m.a.createElement(d.w,{id:ie.e.BLC,title:"BLC Dashboard",className:Be.a.tab_container,panel:m.a.createElement(nt.a,null,m.a.createElement(xa,{tabId:ie.e.BLC}))}))))}},{key:"getDefaultTabNames",value:function(){return Object.keys(ie.e).map(function(e){return ie.e[e]})}},{key:"getActiveTabName",value:function(){var e=this.props.location.search,t=new URLSearchParams(e).get("tab");return this.isTabNameExists(t)&&this.renderFieldHelper.displayOrNot(t)?t.toLowerCase():this.state.defaults.defaultSelectedTab}},{key:"isTabNameExists",value:function(e){return this.state.defaults.defaultTabNames.includes(String(e).toLowerCase())}}]),t}(m.a.Component);t.default=Object(n.b)(function(e){return{defaults:e.pws.defaults}},function(e){return{loadData:function(t){return e(Object(r.g)(t))},resetData:function(){return e(Object(r.i)())}}})(Object(we.b)(Yn,{onUnmount:"resetData"}))},766:function(e,t,a){e.exports={td_style:"blc-row_td_style__3l26n",sticky_white:"blc-row_sticky_white__KKwlw",inline_block:"blc-row_inline_block__1q98L"}},776:function(e,t,a){e.exports={updated:"updated-info_updated__3vBiJ"}},777:function(e,t,a){e.exports={red:"last-updated_red__3uv__",margin_right:"last-updated_margin_right__FPxhT"}},778:function(e,t,a){e.exports={health_minimal:"report-tab_health_minimal__2zAoG",risk_block:"report-tab_risk_block__3ogPM",export_button:"report-tab_export_button__3e6ri",project_info:"report-tab_project_info__1RXqA",inline_block:"report-tab_inline_block__3OyaI",float_right:"report-tab_float_right__1MVgI",red:"report-tab_red__1YjAA",orange:"report-tab_orange__HQKPY",green:"report-tab_green__2Vt1b",scope_definition:"report-tab_scope_definition__1Ogr-"}},779:function(e,t,a){e.exports={timeline_table:"timeline_timeline_table__2gns8",milestone:"timeline_milestone__1-ZCb",bordered:"timeline_bordered__U9x86",indicator:"timeline_indicator__22jvv",align_center:"timeline_align_center__2T0G-",min_width:"timeline_min_width__uaGI6",line:"timeline_line__3MWiN",legend:"timeline_legend__3WBHj",container:"timeline_container__CuL7V"}},781:function(e,t,a){e.exports={status_icon:"health-indicators-minimal_status_icon__2zYV4",col_width:"health-indicators-minimal_col_width__2vHzq",td_style:"health-indicators-minimal_td_style__1aOsd"}},782:function(e,t,a){e.exports={li_margin:"risks-list_li_margin__1TC69"}},783:function(e,t,a){e.exports={naming_block:"two-items-liner_naming_block__3rizb",name:"two-items-liner_name__20hPi"}},784:function(e,t,a){e.exports={list:"rqs-report-list_list__Ky4e1",list_item:"rqs-report-list_list_item__oKbXd",url:"rqs-report-list_url__27oGZ"}},785:function(e,t,a){e.exports={sticky_controls:"edit-save-controls_sticky_controls__L2oZV"}},883:function(e,t,a){e.exports={controls:"report-quills-form_controls__37AVN",red:"report-quills-form_red__msXrD",orange:"report-quills-form_orange__15P5n",green:"report-quills-form_green__1XDli",no_border:"report-quills-form_no_border__1fQnV",quill_margin:"report-quills-form_quill_margin__k5b7F"}},884:function(e,t,a){e.exports={container:"uploaded-image_container__2wipj",image_container:"uploaded-image_image_container__1PGHd",image:"uploaded-image_image__3gti_",controls:"uploaded-image_controls__3lVry"}},885:function(e,t,a){e.exports={hidden:"upload-file-controls-hidden_hidden__2XORW"}},886:function(e,t,a){e.exports={section:"upload-display-section_section__Xk8PZ"}},887:function(e,t,a){e.exports={center:"pws_center__dTcCk",pws_container:"pws_pws_container__1QFGu",tab_container:"pws_tab_container__19TaE",tabs:"pws_tabs__2VCVw"}},888:function(e,t,a){e.exports={word_wrap:"field-value_word_wrap__3t1aD"}},889:function(e,t,a){e.exports={data_fields:"summary-tab_data_fields__eVLz-",secondary_card:"summary-tab_secondary_card__2V_jN",executive_block:"summary-tab_executive_block__3FPVo",data_container:"summary-tab_data_container__1ma75",pws_data_container:"summary-tab_pws_data_container__2dB8g",right_part:"summary-tab_right_part__27DLw",bottom_margin:"summary-tab_bottom_margin__13I-p",red:"summary-tab_red__AozoG",orange:"summary-tab_orange__37yy6",green:"summary-tab_green__3cFvs"}},890:function(e,t,a){e.exports={column_align_center:"health-indicators_column_align_center__24GtH",health_table:"health-indicators_health_table__2LBmc",status_col:"health-indicators_status_col__ks159",prev_column:"health-indicators_prev_column__Xkckl",cur_column:"health-indicators_cur_column__9yhUA",inline_block:"health-indicators_inline_block__3igZa",help_icon:"health-indicators_help_icon__21aVu"}},891:function(e,t,a){e.exports={tooltip_style:"tooltip-content_tooltip_style__3ahEw"}},955:function(e,t,a){e.exports={last_compl_col:"contributing-open-projects_last_compl_col__u2CDl",th_style:"contributing-open-projects_th_style__2q4ov",last_completed:"contributing-open-projects_last_completed__1xrKw",last_completed_sticky:"contributing-open-projects_last_completed_sticky__8mmGy",offer_th:"contributing-open-projects_offer_th__3tk2F",offer_th_sticky:"contributing-open-projects_offer_th_sticky__35-kx",type_th:"contributing-open-projects_type_th__27TNn",type_th_sticky:"contributing-open-projects_type_th_sticky__2aSPV",sticky_colspan3:"contributing-open-projects_sticky_colspan3__10WJD",table_container:"contributing-open-projects_table_container__13gi7",overflow_container:"contributing-open-projects_overflow_container__1MzNv",name_col_size:"contributing-open-projects_name_col_size__31MDp",type_size:"contributing-open-projects_type_size__UTMFq",last_dr_col_size:"contributing-open-projects_last_dr_col_size__1wYAR",td_style:"contributing-open-projects_td_style__3Cajl",products_name:"contributing-open-projects_products_name__1HuMw",legend:"contributing-open-projects_legend__2Mdo8",mils_col_size:"contributing-open-projects_mils_col_size__D8w_O",current_month:"contributing-open-projects_current_month__3Khih",year_left_border:"contributing-open-projects_year_left_border__2QaTg",bkground_grey:"contributing-open-projects_bkground_grey__2N7lG",bkground_red:"contributing-open-projects_bkground_red__DT7b5",label:"contributing-open-projects_label__2qEbM",table_class:"contributing-open-projects_table_class__2t4ry",word_wrap:"contributing-open-projects_word_wrap__2QBiz"}},956:function(e,t,a){e.exports={bkground_grey:"legend_bkground_grey__2IZQx",bkground_red:"legend_bkground_red__1U11J"}},957:function(e,t,a){e.exports={red:"offer-product-title_red__2ECpP"}},958:function(e,t,a){e.exports={actual:"milestone-table_actual__tJYPx",baseline:"milestone-table_baseline__3LU02",completion:"milestone-table_completion__FO8bQ",timeline:"milestone-table_timeline__31BU_",minutes:"milestone-table_minutes__r9naa",table:"milestone-table_table__JcMMK",label:"milestone-table_label__XQ5sc",align_center:"milestone-table_align_center__1AKNW",error:"milestone-table_error__1c4l4"}},959:function(e,t,a){e.exports={data_container:"info-tab_data_container__Ba3Ia",data_container_comment:"info-tab_data_container_comment__1UIMz",url_container:"info-tab_url_container__Dtknl",comment_row_label:"info-tab_comment_row_label__DadxU",comment_row_value:"info-tab_comment_row_value__2R04o",comment_row_comment:"info-tab_comment_row_comment__40OyB",comment_row_comment_value:"info-tab_comment_row_comment_value__1E3c4",help_icon:"info-tab_help_icon__2Plps",ecma_backlog_row:"info-tab_ecma_backlog_row__3M0g_",value_label:"info-tab_value_label__72giz",prj_margin:"info-tab_prj_margin__3TyQM",multiselect:"info-tab_multiselect__2XxOz"}},960:function(e,t,a){e.exports={card:"indicators-tab_card__27RV7",kpi_container:"indicators-tab_kpi_container__TtCf8",rqs_kpi:"indicators-tab_rqs_kpi__3s2Z6",milestones_kpi:"indicators-tab_milestones_kpi__1GP81",dr4_kpi:"indicators-tab_dr4_kpi__uwyJZ"}},961:function(e,t,a){e.exports={req_table:"requirements_req_table__v0MXI",column_align_center:"requirements_column_align_center__1ymaI",title_col:"requirements_title_col__3rrt9",table_header:"requirements_table_header__3Z0qS"}},962:function(e,t,a){e.exports={mil_table:"milestones-kpi_mil_table__3Mptu",column_align_center:"milestones-kpi_column_align_center__1bwQL",borderBottom:"milestones-kpi_borderBottom__3t5W4",mil_col:"milestones-kpi_mil_col__3A-Yt",adh_col:"milestones-kpi_adh_col__3T3Ws",delay_col:"milestones-kpi_delay_col__7b8lV",duration_col:"milestones-kpi_duration_col__1z7S_"}},963:function(e,t,a){e.exports={kpi_table:"kpi_kpi_table__22YKK",header:"kpi_header__3IJ3P",name_col:"kpi_name_col__jMokn",help:"kpi_help__11Yg-",value_col:"kpi_value_col__2XOh6"}},964:function(e,t,a){e.exports={quality_table:"quality_quality_table__3KkaB",column_align_right:"quality_column_align_right__D3IMU",column_align_center:"quality_column_align_center__2SVVd",float_right:"quality_float_right__bW9He",header:"quality_header__3oaOH",descr_col:"quality_descr_col__63-qy",controls_col:"quality_controls_col__1f7Wo",obj_col:"quality_obj_col__13eUT",actual_col:"quality_actual_col__1o9Qe",sync_date:"quality_sync_date__2IVRS",help_icon:"quality_help_icon__1Q0mF",row_name_container:"quality_row_name_container__3urCk",help_container:"quality_help_container__c7_MO",title_container:"quality_title_container__3JbGg",controls:"quality_controls__1Yu9x"}},965:function(e,t,a){e.exports={data_column:"cost-table_data_column__1Hfpx",cost_table:"cost-table_cost_table__30bjV",effort_col:"cost-table_effort_col__21hga",value_col:"cost-table_value_col__2fvKE"}},966:function(e,t,a){e.exports={last_updated:"cost-tab_last_updated__1KF9H",import_container:"cost-tab_import_container__3f4E2"}},967:function(e,t,a){e.exports={relative_wrapper:"blc_relative_wrapper__3W6Yt",overflow_wrapper:"blc_overflow_wrapper__1fVmL",column_align_center:"blc_column_align_center__goncG",blc_table:"blc_blc_table__p40oG",role_col:"blc_role_col__1Af2o",who_col:"blc_who_col__3inz6",updated_col:"blc_updated_col__3_yeE",or_col:"blc_or_col__1KB3y",proj_plan_col:"blc_proj_plan_col__1Jg7U",charter_col:"blc_charter_col__EjPuN",tailoring_col:"blc_tailoring_col__1DosC",core_col:"blc_core_col__2t8SA",prog_mgr_col:"blc_prog_mgr_col__Trd7M",bp_sales:"blc_bp_sales__kwQ4L",lp_sales:"blc_lp_sales__2ISdr",les_learned:"blc_les_learned__9qNNj",bp_plan_col:"blc_bp_plan_col__3kPSU",lp_plan:"blc_lp_plan__3kVBZ",risks_col:"blc_risks_col__WJBI5",comment:"blc_comment__TAKBC",sticky_white:"blc_sticky_white__1WAr6",controls:"blc_controls__1qAwA",publish_btn:"blc_publish_btn__19EN0",help_icon:"blc_help_icon__2LBUZ"}},975:function(e,t,a){e.exports={error_margin:"excel-error_error_margin__1fypu"}},977:function(e,t,a){e.exports={container:"risk_container__21sbx",last_updated_container:"risk_last_updated_container__2-gOS",table_container:"risk_table_container__2qeqC",last_updated:"risk_last_updated__2x-Fg",import_container:"risk_import_container__2Pgl1"}},978:function(e,t,a){e.exports={table_container:"actions_table_container__3VRd6"}},979:function(e,t,a){e.exports={table_container:"requirements-tab_table_container__17Nb7"}},986:function(e,t,a){e.exports={canvas:"bar-chart_canvas__1DRlg"}},987:function(e,t,a){e.exports={header_container:"backlog-defects-page_header_container__39MUm",card_container:"backlog-defects-page_card_container__3uxRg",no_data_container:"backlog-defects-page_no_data_container__2cy2J",chart_container:"backlog-defects-page_chart_container__li1gk",center:"backlog-defects-page_center__20G-X",tooltip:"backlog-defects-page_tooltip__rx4HJ",float_right:"backlog-defects-page_float_right__lCu3N",inline_block:"backlog-defects-page_inline_block__2YfOw",updated_block:"backlog-defects-page_updated_block__1kFUu"}},988:function(e,t,a){e.exports={status_container:"no-data-found_status_container__EefAq",container:"no-data-found_container__1i3MH",field_name:"no-data-found_field_name__18aIm",icon:"no-data-found_icon__3JSAH"}},989:function(e,t,a){e.exports={wrapper:"project-not-found-status_wrapper__23Om8",icon_style:"project-not-found-status_icon_style__1BCsS"}},990:function(e,t,a){}}]);
//# sourceMappingURL=6.6ec321de.chunk.js.map